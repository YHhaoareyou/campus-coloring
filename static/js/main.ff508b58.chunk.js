(this["webpackJsonpcampus-coloring"]=this["webpackJsonpcampus-coloring"]||[]).push([[0],{1151:function(e,t){},1152:function(e,t){},1153:function(e,t){},1154:function(e,t){},1160:function(e,t,n){"use strict";n.r(t);var c,i,a,r,o,s,l,j,b=n(0),d=n.n(b),u=n(65),O=n.n(u),h=(n(531),n(239)),x=(n(536),n(537),n(538),n(12)),f=n(47),g=n(153),p=n(185),m=n(48),v={garden:{name:"Garden",range:{minLat:35,maxLat:36,minLong:139,maxLong:140}},51:{name:"51\u53f7\u9928",range:{minLat:35.7056,maxLat:35.7065,minLong:139.7066,maxLong:139.7069}},52:{name:"52\u53f7\u9928\u6b63\u9762",range:{minLat:35.7059,maxLat:35.7061,minLong:139.70695,maxLong:139.70725}},58:{name:"58\u53f7\u9928\u58c1",range:{minLat:35.70625,maxLat:35.70645,minLong:139.7054,maxLong:139.7057}},62:{name:"62\u53f7\u9928\u58c1",range:{minLat:35.70625,maxLat:35.70645,minLong:139.7054,maxLong:139.7057}},"51_60":{name:"51\u300160\u53f7\u9928\u9593\u306e\u5c0f\u8def",range:{minLat:35.7057,maxLat:35.706,minLong:139.7058,maxLong:139.7061}},"60_61":{name:"60\u300161\u53f7\u9928\u9593\u306e\u5c0f\u8def",range:{minLat:35.7057,maxLat:35.706,minLong:139.7061,maxLong:139.7064}}},w=n(2),k=m.a.div(c||(c=Object(f.a)(["\n  position: relative;\n  margin: 0px auto;\n  width: 400px;\n  height: 160px;\n  background-image: url('/img/map.jpeg');\n  background-size: contain;\n"]))),y=m.a.i(i||(i=Object(f.a)(["\n  position: absolute;\n  font-size: 24px;\n"]))),C=(Object(m.a)(y)(a||(a=Object(f.a)(["\ntop: 50px;\nleft: 250px;\n"]))),[{loc:"51",Pin:Object(m.a)(y)(r||(r=Object(f.a)(["\n  top: -10px;\n  left: 170px;\n"])))},{loc:"52",Pin:Object(m.a)(y)(o||(o=Object(f.a)(["\n  top: 60px;\n  left: 210px;\n"])))},{loc:"51_60",Pin:Object(m.a)(y)(s||(s=Object(f.a)(["\n  top: 70px;\n  left: 135px;\n"])))},{loc:"60_61",Pin:Object(m.a)(y)(l||(l=Object(f.a)(["\n  top: 70px;\n  left: 105px;\n"])))},{loc:"62",Pin:Object(m.a)(y)(j||(j=Object(f.a)(["\n  top: 20px;\n  left: 60px;\n"])))}]);var L=function(){var e=Object(b.useState)(null),t=Object(x.a)(e,2),n=t[0],c=t[1],i=Object(b.useState)(""),a=Object(x.a)(i,2),r=a[0],o=a[1],s=Object(b.useState)(!1),l=Object(x.a)(s,2),j=l[0],d=l[1],u=function(){navigator.geolocation.getCurrentPosition((function(e){c(e.coords),j&&d(!1)}),(function(e){d(!0)}))};Object(b.useEffect)((function(){u();var e=setInterval(u,5e3);return function(){return clearInterval(e)}}),[]);var O=function(e){return n&&e&&n.latitude>=e.minLat&&n.latitude<=e.maxLat&&n.longitude>=e.minLong&&n.longitude<=e.maxLong};return Object(w.jsxs)("div",{style:{paddingTop:"100px"},children:[Object(w.jsx)("h3",{children:"\u5834\u6240\u3092\u9078\u629e"}),!n&&Object(w.jsxs)("p",{children:[Object(w.jsx)("i",{className:"bi bi-arrow-clockwise"})," \u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u4e2d..."]}),j&&Object(w.jsx)("p",{children:"\u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u5931\u6557\u3002\u4f4d\u7f6e\u60c5\u5831\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u3001\u906e\u853d\u7269\u306e\u306a\u3044\u7a7a\u9593\u306b\u79fb\u52d5\u3057\u3066\u6570\u79d2\u5f85\u3063\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(w.jsx)(k,{children:C.map((function(e){var t=e.loc,n=e.Pin;return Object(w.jsx)(n,{onClick:function(){return o(t)},className:"bi bi-geo-alt-fill",style:{color:O(v[t].range)?"orange":"black"}},t)}))}),Object(w.jsxs)(p.a,{centered:!0,show:""!==r,onHide:function(){return o("")},children:[Object(w.jsx)(p.a.Header,{closeButton:!0,children:Object(w.jsx)(p.a.Title,{children:r&&v[r].name})}),Object(w.jsxs)(p.a.Body,{style:{textAlign:"center"},children:[Object(w.jsx)("img",{src:"/img/loc/".concat(r,".jpeg"),width:"100%",alt:"View of the location"}),r&&(O(v[r].range)||"garden"===r)?Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"\u2191\u306e\u666f\u8272\u306b\u5411\u3044\u3066\u304f\u3060\u3055\u3044"}),Object(w.jsx)(h.a,{to:"/"+r,children:Object(w.jsx)(g.a,{variant:"outline-primary",children:"\u7d75\u3092\u89b3\u308b"})})]}):Object(w.jsx)("p",{children:"\u3053\u306e\u5834\u6240\u306b\u79fb\u52d5\u3057\u3001\u6570\u79d2\u5f85\u3064\u3068\u7d75\u304c\u898b\u3048\u308b\u3088"})]})]})]})};var N,S,_,T=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(L,{})})},I=n(4),P=n(6),B=m.a.div(N||(N=Object(f.a)(["\n  position: absolute;\n  top: 50vh;\n  left: 0;\n"]))),A=m.a.div(S||(S=Object(f.a)(["\n  position: absolute;\n  top: 50vh;\n  right: 0;\n"]))),R=Object(m.a)(g.a)(_||(_=Object(f.a)(["\n  background: rgba(255, 255, 255, 0.3);\n  color: rgba(200, 200, 200);\n  border: none;\n  font-size: 36px;\n  padding: 0px;\n"])));var z,E,U=function(e){var t=e.switchPrev,n=e.switchNext;return Object(w.jsxs)(d.a.Fragment,{children:[Object(w.jsx)(B,{children:Object(w.jsx)(R,{variant:"light",onClick:t,children:Object(w.jsx)("i",{className:"bi bi-chevron-compact-left"})})}),Object(w.jsx)(A,{children:Object(w.jsx)(R,{variant:"light",onClick:n,children:Object(w.jsx)("i",{className:"bi bi-chevron-compact-right"})})})]})},F=n(1167),D=n(1168),H=n(1169),W=n(1175),M=Object(m.a)(F.a)(z||(z=Object(f.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(248, 249, 250, 0.5);\n  padding: 10px;\n  padding-right: 20px;\n"]))),V=Object(m.a)(g.a)(E||(E=Object(f.a)(["\n  background: rgba(255, 255, 255, 0.5);\n  border: none;\n  width: 100%;\n"])));var G,Q,J,X=function(e){var t=e.imgInfo,n=e.openCanvas,c=e.canvasVisibility,i=e.likeTrigger,a=Object(b.useState)(!1),r=Object(x.a)(a,2),o=r[0],s=r[1],l=Object(b.useState)(t.likes?Object.keys(t.likes).length:0),j=Object(x.a)(l,2),d=j[0],u=j[1],O=Object(b.useState)(t.likes&&Object.keys(t.likes).includes("26577319")),h=Object(x.a)(O,2),f=h[0],m=h[1];return!c&&Object(w.jsxs)(M,{children:[Object(w.jsxs)(D.a,{children:[Object(w.jsx)(H.a,{xs:8,children:Object(w.jsx)(W.a,{style:{height:"100px",overflowY:"scroll"},children:Object(w.jsxs)(W.a.Body,{style:{padding:"5px"},children:[Object(w.jsx)(W.a.Title,{as:"h6",style:{margin:"5px"},children:t.title}),Object(w.jsx)(W.a.Text,{style:{fontSize:"14px"},children:t.detail})]})})}),Object(w.jsxs)(H.a,{xs:4,children:[Object(w.jsxs)(D.a,{children:[Object(w.jsx)(H.a,{style:{padding:0},children:Object(w.jsxs)(V,{variant:"light",size:"sm",onClick:function(){window.location.href=window.location.origin+window.location.pathname+"?mode=user&uid="+t.creator_id},children:[Object(w.jsx)("i",{className:"bi bi-person"}),Object(w.jsx)("br",{}),"User"]})}),Object(w.jsx)(H.a,{style:{padding:0},children:Object(w.jsxs)(V,{variant:"light",size:"sm",onClick:function(){i(),u(f?d-1:d+1),m(!f)},children:[Object(w.jsx)("i",{className:"bi bi-heart",style:{color:f?"red":"black"}}),Object(w.jsx)("br",{}),d]})})]}),Object(w.jsxs)(D.a,{children:[Object(w.jsx)(H.a,{style:{padding:0},children:Object(w.jsxs)(V,{variant:"light",size:"sm",disabled:!t.prev_img_ids,onClick:function(){window.location.href=window.location.origin+window.location.pathname+"?mode=base&bid="+t.id},children:[Object(w.jsx)("i",{className:"bi bi-collection"}),Object(w.jsx)("br",{}),"\u524d\u4f5c\u3078"]})}),Object(w.jsx)(H.a,{style:{padding:0},children:Object(w.jsxs)(V,{variant:"light",size:"sm",onClick:function(){return s(!0)},children:[Object(w.jsx)("i",{className:"bi bi-pencil"}),Object(w.jsx)("br",{}),"\u63cf\u3053\u3046"]})})]})]})]}),Object(w.jsxs)(p.a,{centered:!0,show:o,onHide:function(){return s(!1)},children:[Object(w.jsx)(p.a.Header,{closeButton:!0,children:Object(w.jsx)(p.a.Title,{children:"\u3069\u3093\u306a\u7d75\u3092\u63cf\u304d\u305f\u3044\uff1f"})}),Object(w.jsxs)(p.a.Body,{style:{textAlign:"center"},children:[Object(w.jsx)(g.a,{variant:"outline-primary",onClick:function(){n({isNew:!0}),s(!1)},children:"\u65b0\u3057\u304f\u63cf\u3053\u3046"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(g.a,{variant:"outline-primary",onClick:function(){n({isNew:!1}),s(!1)},children:"\u3053\u308c\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u63cf\u3053\u3046"})]})]})]})},q=n(38),K=n(186),Y=n(37),Z=Object(Y.b)({key:"currentLocState",default:""}),$=Object(Y.b)({key:"currentImgIdState",default:""}),ee=Object(Y.b)({key:"currentImgSrcState",default:""}),te=Object(Y.b)({key:"userState",default:null,dangerouslyAllowMutability:!0}),ne=n(525),ce=n(1170),ie=n(1173),ae=n(110),re=function(){var e=new ae.a,t=Object(ae.b)();return Object(ae.d)(t,e)},oe=function(){return Object(Y.d)(te)},se=n(336),le=n(61),je=n(520),be=n.n(je),de=n(521),ue=Object(m.a)(F.a)(G||(G=Object(f.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 120px;\n  padding: 5px;\n  background-color: rgba(248, 249, 250, 0.5);\n"]))),Oe=Object(m.a)(g.a)(Q||(Q=Object(f.a)(["\n  margin: 0px;\n  margin-bottom: 2px;\n  padding: 0px;\n  width: 60px;\n  height: 35px;\n"]))),he=Object(m.a)(Oe)(J||(J=Object(f.a)(["\n  width: 50px;\n  height: 50px;\n"])));function xe(e,t){var n=window;return{width:n.innerWidth,height:n.innerHeight}}function fe(e,t){de.fabric.Image.fromURL(e,(function(e){e.scaleToWidth(xe().width),t.add(e.set({left:0,top:0}))}),{crossOrigin:"Anonymous"})}var ge=function(e){var t=e.closeCanvas,n=e.basePrevIds,c=e.isNew,i=oe(),a=Object(Y.d)(Z),r=Object(Y.d)($),o=Object(Y.d)(ee),s=Object(b.useState)(xe()),l=Object(x.a)(s,2),j=l[0],d=l[1],u=Object(b.useRef)(null),O=Object(b.useState)("#000"),h=Object(x.a)(O,2),f=h[0],p=h[1],m=Object(b.useState)(5),v=Object(x.a)(m,2),k=v[0],y=v[1],C=Object(b.useState)("transparent"),L=Object(x.a)(C,2),N=L[0],S=L[1],_=Object(b.useState)(le.Tools.Pencil),T=Object(x.a)(_,2),B=T[0],A=T[1],R=Object(b.useState)(!1),z=Object(x.a)(R,2),E=z[0],U=z[1],F=Object(b.useState)(!1),W=Object(x.a)(F,2),M=W[0],V=W[1];Object(b.useEffect)((function(){d(xe()),c||fe(o,u.current._fc)}),[c,o]);return Object(w.jsxs)("div",{style:{position:"absolute",zIndex:1e3,left:0,backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"5px solid #aaa"},children:[Object(w.jsx)(le.SketchField,{name:"sketch",className:"canvas-area",ref:u,lineColor:f,lineWidth:k,fillColor:N||"transparent",width:j.width,height:3*j.width/2,forceValue:!0,onChange:function(){var e=E,t=u.current.canUndo();e!==t&&U(t)},tool:B,imageFormat:"jpeg"}),Object(w.jsx)(ue,{children:Object(w.jsxs)(D.a,{children:[Object(w.jsxs)(H.a,{xs:7,style:{paddingRight:"5px"},children:[Object(w.jsx)("div",{children:Object(w.jsxs)(ce.a,{children:[Object(w.jsx)(g.a,{variant:B===le.Tools.Pencil?"secondary":"light",onClick:function(){return A(le.Tools.Pencil)},children:Object(w.jsx)("i",{className:"bi bi-pencil"})}),Object(w.jsx)(g.a,{variant:B===le.Tools.Line?"secondary":"light",onClick:function(){return A(le.Tools.Line)},children:Object(w.jsx)("i",{className:"bi bi-slash-lg"})}),Object(w.jsx)(g.a,{variant:B===le.Tools.Rectangle?"secondary":"light",onClick:function(){return A(le.Tools.Rectangle)},children:Object(w.jsx)("i",{className:"bi bi-square"})}),Object(w.jsx)(g.a,{variant:B===le.Tools.Circle?"secondary":"light",onClick:function(){return A(le.Tools.Circle)},children:Object(w.jsx)("i",{className:"bi bi-circle"})}),Object(w.jsx)(ie.a,{trigger:"click",placement:"top",overlay:function(e){return Object(w.jsxs)(ne.a,Object(P.a)(Object(P.a)({},e),{},{style:Object(P.a)(Object(P.a)({},e.style),{},{padding:"10px"}),children:["\u7dda",Object(w.jsx)("br",{}),Object(w.jsx)(se.a,{id:"lineColor",color:f,onChange:function(e){return p(e.hex)}}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"\u4e2d\u8eab"," ",Object(w.jsx)(g.a,{style:{padding:"0px 10px"},variant:"secondary",onClick:function(){return S("transparent")},children:"\u4e2d\u8eab\u306a\u3057"}),Object(w.jsx)("br",{}),Object(w.jsx)(se.a,{id:"fillColor",color:N,onChange:function(e){S(e.hex),p("#000"),p(f)}})]}))},style:{position:"relative"},children:Object(w.jsxs)(g.a,{variant:"light",children:[Object(w.jsx)("i",{className:"bi bi-palette"})," ",Object(w.jsx)("span",{style:{border:"3px solid"+f,backgroundColor:N,width:"15px",height:"15px",display:"inline-block",verticalAlign:"middle"}})]})})]})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{style:{display:"inline-block",width:"20px"}}),Object(w.jsx)("i",{className:"bi bi-border-width"})," ",Object(w.jsx)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:Object(w.jsx)(be.a,{min:1,max:30,value:k,onChange:function(e){return y(e.target.value)}})})]}),Object(w.jsxs)(ce.a,{children:[Object(w.jsx)(Oe,{variant:B===le.Tools.Select?"secondary":"light",onClick:function(){return A(le.Tools.Select)},children:Object(w.jsx)("i",{className:"bi bi-hand-index-thumb"})}),Object(w.jsx)(Oe,{disabled:B!==le.Tools.Select,variant:"light",onClick:function(){try{u.current.removeSelected()}catch(e){alert("\u307e\u305a\u524a\u9664\u3057\u305f\u3044\u30d1\u30fc\u30c4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},children:Object(w.jsx)("i",{className:"bi bi-trash"})}),Object(w.jsx)(Oe,{disabled:B!==le.Tools.Select,variant:"light",onClick:function(){try{u.current.copy(),u.current.paste()}catch(e){alert("\u307e\u305a\u30b3\u30d4\u30da\u3057\u305f\u3044\u30d1\u30fc\u30c4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},children:Object(w.jsx)("i",{className:"bi bi-files"})})]})]}),Object(w.jsxs)(H.a,{xs:5,children:[Object(w.jsxs)(ce.a,{style:{marginBottom:"5px"},children:[Object(w.jsx)(he,{disabled:!E,variant:"light",onClick:function(){u.current.undo(),U(u.current.canUndo()),V(u.current.canRedo())},children:Object(w.jsx)("i",{className:"bi bi-arrow-90deg-left"})}),Object(w.jsx)(he,{disabled:!M,variant:"light",onClick:function(){u.current.redo(),U(u.current.canUndo()),V(u.current.canRedo())},children:Object(w.jsx)("i",{className:"bi bi-arrow-90deg-right"})}),Object(w.jsx)(he,{variant:"light",onClick:function(){u.current.clear(),U(u.current.canUndo()),V(u.current.canRedo()),c||fe(o,u.current._fc)},children:Object(w.jsx)("i",{className:"bi bi-arrow-counterclockwise"})})]}),Object(w.jsxs)(ce.a,{children:[Object(w.jsx)(he,{variant:"light",onClick:function(){var e,o,s,l=Object(K.b)(),j=Object(q.b)();e=prompt("\u30bf\u30a4\u30c8\u30eb\uff1a"),o=prompt("\u3053\u306e\u4f5c\u54c1\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\uff1a"),s=Date.now(),""===e&&(e=s);var b=u.current.toDataURL();Object(K.d)(Object(K.c)(l,"paintings/"+e),b,"data_url").then((function(e){return Object(K.a)(e.ref)})).then((function(l){Object(q.d)(Object(q.c)(j,"img_urls/"+a+"/"+s),l).then((function(l){Object(q.d)(Object(q.c)(j,"img_info/"+a+"/"+s),{title:e,detail:o,creator_id:i.uid,prev_img_ids:!c&&Object(P.a)(Object(I.a)({},r,!0),n)}).then((function(e){Object(q.d)(Object(q.c)(j,"users/"+i.uid+"/img_ids/"+a+"/"+s),!0).then((function(e){alert("\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\uff01"),t(),window.location.href="/"+a+"?pid="+s})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))},children:Object(w.jsx)("i",{className:"bi bi-check-lg"})}),Object(w.jsx)(he,{disabled:!0,variant:"light",onClick:function(){},children:Object(w.jsx)("i",{className:"bi bi-hdd"})}),Object(w.jsx)(he,{variant:"light",onClick:t,children:Object(w.jsx)("i",{className:"bi bi-x-lg"})})]})]})]})})]})},pe=n(123),me=n.n(pe);var ve=function(e){var t=e.loc,n=e.location,c=Object(Y.e)(Z),i=Object(Y.c)($),a=Object(x.a)(i,2),r=a[0],o=a[1],s=Object(Y.e)(ee),l=Object(b.useState)(0),j=Object(x.a)(l,2),d=j[0],u=j[1],O=Object(b.useState)(!1),h=Object(x.a)(O,2),f=h[0],g=h[1],p=Object(b.useState)([]),m=Object(x.a)(p,2),v=m[0],k=m[1],y=Object(b.useState)(!0),C=Object(x.a)(y,2),L=C[0],N=C[1],S=oe(),_=function(e){var t=e;Array.isArray(e)||(t=Object.keys(e).map((function(t){return Object(P.a)({id:t},e[t])})));var c=me.a.parse(n.search).pid;k(t),o(c||t[0].id),u(c?t.map((function(e){return e.id})).indexOf(c):0),T(c||t[0].id)},T=function(e){var n=Object(q.b)();Object(q.a)(Object(q.c)(n,"img_urls/"+t+"/"+e)).then((function(e){e.exists()&&s(e.val())})).catch((function(e){return console.error(e)}))},B=function(e){var t=v;1===e?t[d].likes=Object(P.a)(Object(P.a)({},t[d].likes),{},Object(I.a)({},S.uid,!0)):delete t[d].likes[S.uid],k(t)};return Object(b.useEffect)((function(){c(t);var e=me.a.parse(n.search),i=Object(q.b)();Object(q.a)(Object(q.c)(i,"img_info/"+t)).then((function(n){if(n.exists())if(e.mode&&"base"===e.mode){var c=Object.keys(n.val()[e.bid].prev_img_ids),a={};c.forEach((function(e){a[e]=n.val()[e]})),_(a)}else e.mode&&"user"===e.mode?Object(q.a)(Object(q.c)(i,"users/"+e.uid+"/img_ids/"+t)).then((function(e){var t={};Object.keys(e.val()).forEach((function(e){t[e]=n.val()[e]})),_(t)})):_(n.val())})).catch((function(e){return console.error(e)}))}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)(U,{switchPrev:function(){if(v.length>1){var e=0===d?v.length-1:d-1;u(e),o(v[e].id),T(v[e].id);var t=me.a.parse(n.search);t.pid=v[e].id;var c=window.location.origin+window.location.pathname+"?"+me.a.stringify(t);window.history.replaceState({path:c},"",c)}},switchNext:function(){if(v.length>1){var e=d===v.length-1?0:d+1;u(e),o(v[e].id),T(v[e].id);var t=me.a.parse(n.search);t.pid=v[e].id;var c=window.location.origin+window.location.pathname+"?"+me.a.stringify(t);window.history.replaceState({path:c},"",c)}}}),v.length>0&&Object(w.jsx)(X,{imgInfo:v[d],openCanvas:function(e){var t=e.isNew;g(!0),N(t)},canvasVisibility:f,likeTrigger:function(){var e=Object(q.b)();v[d].likes&&v[d].likes[S.uid]?Object(q.d)(Object(q.c)(e,"img_info/"+t+"/"+r+"/likes/"+S.uid),null).then((function(e){return B(-1)})):Object(q.d)(Object(q.c)(e,"img_info/"+t+"/"+r+"/likes/"+S.uid),!0).then((function(e){return B(1)}))}}),f&&Object(w.jsx)(ge,{isNew:L,basePrevIds:v[d].prev_img_ids||{},closeCanvas:function(){return g(!1)}})]})},we=n(1172),ke=n(1174),ye=n(1171);var Ce=function(){var e=oe(),t=Object(Y.d)(Z);return Object(w.jsx)(we.a,{style:{position:"absolute",left:0,top:0,width:"100vw",background:"rgba(255, 255, 255, 0.5)"},children:Object(w.jsxs)(F.a,{children:[Object(w.jsx)(we.a.Brand,{children:t?v[t].name:"Campus as Canvas"}),Object(w.jsxs)(we.a.Collapse,{children:[t?Object(w.jsxs)(ke.a,{className:"me-auto",children:[Object(w.jsx)(g.a,{className:"btn btn-sm",variant:"outline-secondary",onClick:function(){return window.location.href="/"},children:"\u4ed6\u306e\u5834\u6240\u3078"}),Object(w.jsx)("span",{style:{width:"10px"}}),Object(w.jsx)(g.a,{className:"btn btn-sm",variant:"outline-secondary",onClick:function(){return window.history.back()},children:"\u623b\u308b"})]}):Object(w.jsx)(ke.a,{className:"me-auto"}),Object(w.jsx)(ke.a,{children:Object(w.jsx)(ye.a,{title:(null===e||void 0===e?void 0:e.displayName)||"\u30ed\u30b0\u30a4\u30f3",children:e?Object(w.jsx)(ye.a.Item,{onClick:function(){(function(){var e=Object(ae.b)();return Object(ae.e)(e)})().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}):Object(w.jsx)(ye.a.Item,{onClick:function(){re().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a4\u30f3"})})})]})]})})},Le=function(e){var t=e.children;return function(){var e=Object(b.useState)(!0),t=Object(x.a)(e,2),n=t[0],c=t[1],i=Object(Y.e)(te);return Object(b.useEffect)((function(){var e=Object(ae.b)();return Object(ae.c)(e,(function(e){i(e),c(!1)}))}),[i]),n}()?Object(w.jsx)("p",{children:"Loading..."}):t};var Ne=function(){var e=oe();return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(Le,{children:Object(w.jsx)("div",{children:e?Object(w.jsxs)("div",{children:[Object(w.jsx)(Ce,{}),Object(w.jsxs)(h.b,{children:[Object(w.jsx)(T,{path:"/"}),Object(w.jsx)(ve,{path:"/:loc"})]})]}):Object(w.jsx)("div",{children:Object(w.jsx)("button",{onClick:function(){re().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a4\u30f3"})})})})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1176)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))},_e=n(524);var Te=function(){var e=Object(Y.d)(Z),t=Object(Y.d)(ee),n=Object(Y.d)($),c=Object(b.useState)({}),i=Object(x.a)(c,2),a=i[0],r=i[1];return Object(b.useEffect)((function(){console.log(window.innerHeight/(window.innerWidth/10));var t=Object(q.b)();Object(q.a)(Object(q.c)(t,"img_urls/"+e)).then((function(e){e.exists()&&r(e.val())})).catch((function(e){return console.error(e)}))}),[e]),Object(w.jsxs)("a-scene",{id:"a-scene","vr-mode-ui":"enabled: false;",renderer:"logarithmicDepthBuffer: true;",arjs:"trackingMethod: best; sourceType: webcam;debugUIEnabled: false;",children:[Object(w.jsx)("a-assets",{children:a&&Object.keys(a).map((function(e){return Object(w.jsx)("img",{id:e,src:a[e],crossOrigin:"anonymous",alt:"Painting "+e},e)}))}),t&&Object(w.jsx)("a-image",{src:"#"+n,width:10,height:8,position:"-0.3 1.5 -10",rotation:"0 0 0"})]})};n(1159);Object(_e.a)({apiKey:"AIzaSyAA4zXM0wRBrL1l65NHg_8mQcjg75ew9RQ",authDomain:"campus-coloring.firebaseapp.com",databaseURL:"https://campus-coloring.firebaseio.com",projectId:"campus-coloring",storageBucket:"campus-coloring.appspot.com",messagingSenderId:"45926036058",appId:"1:45926036058:web:a9271137ac86762843de63",measurementId:"G-WPPW3TX4QG"});var Ie=function(){var e=Object(Y.d)(Z);return Object(w.jsxs)("div",{style:{width:"100%",height:"100%"},children:[e&&Object(w.jsx)(Te,{}),Object(w.jsx)(Ne,{})]})};O.a.render(Object(w.jsx)(Y.a,{children:Object(w.jsx)(Ie,{})}),document.getElementById("root")),Se()},531:function(e,t,n){},536:function(e,t,n){},671:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=671},698:function(e,t){},700:function(e,t){},723:function(e,t){},724:function(e,t){},730:function(e,t){},732:function(e,t){},764:function(e,t){},766:function(e,t){},767:function(e,t){},772:function(e,t){},774:function(e,t){},780:function(e,t){},782:function(e,t){},801:function(e,t){},813:function(e,t){},816:function(e,t){},838:function(e,t){}},[[1160,1,2]]]);
//# sourceMappingURL=main.ff508b58.chunk.js.map