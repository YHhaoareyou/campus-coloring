(this["webpackJsonpcampus-coloring"]=this["webpackJsonpcampus-coloring"]||[]).push([[0],{1021:function(e,t){},1023:function(e,t){},1096:function(e,t){},1097:function(e,t){},1098:function(e,t){},1099:function(e,t){},1105:function(e,t,n){"use strict";n.r(t);var c,i,a,r,s,o,j,l,b,d,O=n(0),u=n.n(O),h=n(66),x=n.n(h),g=(n(533),n(229)),f=(n(538),n(539),n(540),n(17)),p=n(49),m=n(148),v=n(517),w=n(173),k=n(50),y={garden:{name:"Garden",range:{minLat:35,maxLat:36,minLong:139,maxLong:140}},51:{name:"51\u53f7\u9928",range:{minLat:35.7056,maxLat:35.7065,minLong:139.7066,maxLong:139.7069}},52:{name:"52\u53f7\u9928\u6b63\u9762",range:{minLat:35.7059,maxLat:35.7061,minLong:139.70695,maxLong:139.70725}},58:{name:"58\u53f7\u9928\u58c1",range:{minLat:35.70625,maxLat:35.70645,minLong:139.7054,maxLong:139.7057}},62:{name:"62\u53f7\u9928\u58c1",range:{minLat:35.70625,maxLat:35.70645,minLong:139.7054,maxLong:139.7057}},"51_60":{name:"51\u300160\u53f7\u9928\u9593\u306e\u5c0f\u8def",range:{minLat:35.7057,maxLat:35.706,minLong:139.7058,maxLong:139.7061}},"60_61":{name:"60\u300161\u53f7\u9928\u9593\u306e\u5c0f\u8def",range:{minLat:35.7057,maxLat:35.706,minLong:139.7061,maxLong:139.7064}}},C=n(5),L=(Object(k.a)(v.a)(c||(c=Object(p.a)(["\n  margin: 0px 10px;\n"]))),k.a.div(i||(i=Object(p.a)(["\n  position: relative;\n  margin: 0px auto;\n  width: 400px;\n  height: 160px;\n  background-image: url('/img/map.jpeg');\n  background-size: contain;\n"])))),N=k.a.i(a||(a=Object(p.a)(["\n  position: absolute;\n  font-size: 24px;\n"]))),S=Object(k.a)(N)(r||(r=Object(p.a)(["\ntop: 50px;\nleft: 250px;\n"]))),_=Object(k.a)(N)(s||(s=Object(p.a)(["\n  top: -10px;\n  left: 170px;\n"]))),T=Object(k.a)(N)(o||(o=Object(p.a)(["\n  top: 60px;\n  left: 210px;\n"]))),I=Object(k.a)(N)(j||(j=Object(p.a)(["\n  top: 70px;\n  left: 135px;\n"]))),P=Object(k.a)(N)(l||(l=Object(p.a)(["\n  top: 70px;\n  left: 105px;\n"]))),A=(Object(k.a)(N)(b||(b=Object(p.a)(["\n  top: 20px;\n  left: 70px;\n"]))),[{loc:"garden",Pin:S},{loc:"51",Pin:_},{loc:"52",Pin:T},{loc:"51_60",Pin:I},{loc:"60_61",Pin:P},{loc:"62",Pin:Object(k.a)(N)(d||(d=Object(p.a)(["\n  top: 20px;\n  left: 60px;\n"])))}]);var B=function(){var e=Object(O.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(O.useState)(""),a=Object(f.a)(i,2),r=a[0],s=a[1],o=Object(O.useState)(!1),j=Object(f.a)(o,2),l=j[0],b=j[1],d=function(){navigator.geolocation.getCurrentPosition((function(e){c(e.coords),l&&b(!1)}),(function(e){b(!0)}))};Object(O.useEffect)((function(){d();var e=setInterval(d,5e3);return function(){return clearInterval(e)}}),[]);var u=function(e){return n&&e&&n.latitude>=e.minLat&&n.latitude<=e.maxLat&&n.longitude>=e.minLong&&n.longitude<=e.maxLong};return Object(C.jsxs)("div",{style:{paddingTop:"100px"},children:[Object(C.jsx)("h3",{children:"\u5834\u6240\u3092\u9078\u629e"}),!n&&Object(C.jsxs)("p",{children:[Object(C.jsx)("i",{className:"bi bi-arrow-clockwise"})," \u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u4e2d..."]}),l&&Object(C.jsx)("p",{children:"\u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97\u5931\u6557\u3002\u4f4d\u7f6e\u60c5\u5831\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u3001\u906e\u853d\u7269\u306e\u306a\u3044\u7a7a\u9593\u306b\u79fb\u52d5\u3057\u3066\u6570\u79d2\u5f85\u3063\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(C.jsx)(L,{children:A.map((function(e){var t=e.loc,n=e.Pin;return Object(C.jsx)(n,{onClick:function(){return s(t)},className:"bi bi-geo-alt-fill",style:{color:u(y[t].range)?"orange":"black"}},t)}))}),Object(C.jsxs)(w.a,{centered:!0,show:""!==r,onHide:function(){return s("")},children:[Object(C.jsx)(w.a.Header,{closeButton:!0,children:Object(C.jsx)(w.a.Title,{children:r&&y[r].name})}),Object(C.jsxs)(w.a.Body,{style:{textAlign:"center"},children:[Object(C.jsx)("img",{src:"/img/loc/".concat(r,".jpeg"),width:"100%"}),r&&u(y[r].range)?Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:"\u2191\u306e\u666f\u8272\u306b\u5411\u3044\u3066\u304f\u3060\u3055\u3044"}),Object(C.jsx)(g.a,{to:"/"+r,children:Object(C.jsx)(m.a,{variant:"outline-primary",children:"\u7d75\u3092\u89b3\u308b"})})]}):Object(C.jsx)("p",{children:"\u3053\u306e\u5834\u6240\u306b\u79fb\u52d5\u3057\u3001\u6570\u79d2\u5f85\u3064\u3068\u7d75\u304c\u898b\u3048\u308b\u3088"})]})]})]})};var R,z,E,U=function(){return Object(C.jsx)("div",{children:Object(C.jsx)(B,{})})},F=n(13),H=k.a.div(R||(R=Object(p.a)(["\n  position: absolute;\n  top: 50vh;\n  left: 0;\n"]))),D=k.a.div(z||(z=Object(p.a)(["\n  position: absolute;\n  top: 50vh;\n  right: 0;\n"]))),W=Object(k.a)(m.a)(E||(E=Object(p.a)(["\n  background: rgba(255, 255, 255, 0.3);\n  color: rgba(200, 200, 200);\n  border: none;\n  font-size: 36px;\n  padding: 0px;\n"])));var G,M,Q=function(e){var t=e.switchPrev,n=e.switchNext;return Object(C.jsxs)(u.a.Fragment,{children:[Object(C.jsx)(H,{children:Object(C.jsx)(W,{variant:"light",onClick:t,children:Object(C.jsx)("i",{className:"bi bi-chevron-compact-left"})})}),Object(C.jsx)(D,{children:Object(C.jsx)(W,{variant:"light",onClick:n,children:Object(C.jsx)("i",{className:"bi bi-chevron-compact-right"})})})]})},V=n(1112),J=n(1113),X=n(1119),q=Object(k.a)(V.a)(G||(G=Object(p.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(248, 249, 250, 0.5);\n  padding: 10px;\n  padding-right: 20px;\n"]))),K=Object(k.a)(m.a)(M||(M=Object(p.a)(["\n  background: rgba(255, 255, 255, 0.5);\n  border: none;\n  width: 100%;\n"])));var Y,Z,$,ee=function(e){var t=e.imgInfo,n=e.openCanvas,c=e.canvasVisibility,i=e.likeTrigger,a=Object(O.useState)(!1),r=Object(f.a)(a,2),s=r[0],o=r[1],j=Object(O.useState)(t.likes?Object.keys(t.likes).length:0),l=Object(f.a)(j,2),b=l[0],d=l[1],u=Object(O.useState)(t.likes&&Object.keys(t.likes).includes("26577319")),h=Object(f.a)(u,2),x=h[0],g=h[1];return!c&&Object(C.jsxs)(q,{children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(J.a,{xs:8,children:Object(C.jsx)(X.a,{style:{height:"100px",overflowY:"scroll"},children:Object(C.jsxs)(X.a.Body,{style:{padding:"5px"},children:[Object(C.jsx)(X.a.Title,{as:"h6",style:{margin:"5px"},children:t.title}),Object(C.jsx)(X.a.Text,{style:{fontSize:"14px"},children:t.detail})]})})}),Object(C.jsxs)(J.a,{xs:4,children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(J.a,{style:{padding:0},children:Object(C.jsxs)(K,{variant:"light",size:"sm",onClick:function(){window.location.href=window.location.origin+window.location.pathname+"?mode=user&uid="+t.creator_id},children:[Object(C.jsx)("i",{className:"bi bi-person"}),Object(C.jsx)("br",{}),"User"]})}),Object(C.jsx)(J.a,{style:{padding:0},children:Object(C.jsxs)(K,{variant:"light",size:"sm",onClick:function(){i(),d(x?b-1:b+1),g(!x)},children:[Object(C.jsx)("i",{className:"bi bi-heart",style:{color:x?"red":"black"}}),Object(C.jsx)("br",{}),b]})})]}),Object(C.jsxs)(v.a,{children:[Object(C.jsx)(J.a,{style:{padding:0},children:Object(C.jsxs)(K,{variant:"light",size:"sm",disabled:!t.prev_img_ids,onClick:function(){window.location.href=window.location.origin+window.location.pathname+"?mode=base&bid="+t.id},children:[Object(C.jsx)("i",{className:"bi bi-collection"}),Object(C.jsx)("br",{}),"\u524d\u4f5c\u3078"]})}),Object(C.jsx)(J.a,{style:{padding:0},children:Object(C.jsxs)(K,{variant:"light",size:"sm",onClick:function(){return o(!0)},children:[Object(C.jsx)("i",{className:"bi bi-pencil"}),Object(C.jsx)("br",{}),"\u63cf\u3053\u3046"]})})]})]})]}),Object(C.jsxs)(w.a,{centered:!0,show:s,onHide:function(){return o(!1)},children:[Object(C.jsx)(w.a.Header,{closeButton:!0,children:Object(C.jsx)(w.a.Title,{children:"\u3069\u3093\u306a\u7d75\u3092\u63cf\u304d\u305f\u3044\uff1f"})}),Object(C.jsxs)(w.a.Body,{style:{textAlign:"center"},children:[Object(C.jsx)(m.a,{variant:"outline-primary",onClick:function(){n({isNew:!0}),o(!1)},children:"\u65b0\u3057\u304f\u63cf\u3053\u3046"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(m.a,{variant:"outline-primary",onClick:function(){n({isNew:!1}),o(!1)},children:"\u3053\u308c\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u63cf\u3053\u3046"})]})]})]})},te=n(9),ne=(n(543),n(44)),ce=n(174),ie=n(43),ae=Object(ie.b)({key:"currentLocState",default:""}),re=Object(ie.b)({key:"currentImgIdState",default:""}),se=Object(ie.b)({key:"currentImgSrcState",default:""}),oe=Object(ie.b)({key:"userState",default:null,dangerouslyAllowMutability:!0}),je=n(527),le=n(1114),be=n(1116),de=n(323),Oe=n(63),ue=n(522),he=n.n(ue),xe=n(523),ge=Object(k.a)(V.a)(Y||(Y=Object(p.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 120px;\n  padding: 5px;\n  background-color: rgba(248, 249, 250, 0.5);\n"]))),fe=Object(k.a)(m.a)(Z||(Z=Object(p.a)(["\n  margin: 0px;\n  margin-bottom: 2px;\n  padding: 0px;\n  width: 60px;\n  height: 35px;\n"]))),pe=Object(k.a)(fe)($||($=Object(p.a)(["\n  width: 50px;\n  height: 50px;\n"])));function me(e,t){var n=window;return{width:n.innerWidth,height:n.innerHeight}}function ve(e,t){xe.fabric.Image.fromURL(e,(function(e){e.scaleToWidth(me().width),t.add(e.set({left:0,top:0}))}),{crossOrigin:"Anonymous"})}var we=function(e){var t=e.closeCanvas,n=e.basePrevIds,c=e.isNew,i=Object(ie.d)(ae),a=Object(ie.d)(re),r=Object(ie.d)(se),s=Object(O.useState)(me()),o=Object(f.a)(s,2),j=o[0],l=(o[1],Object(O.useRef)(null)),b=Object(O.useState)("#000"),d=Object(f.a)(b,2),u=d[0],h=d[1],x=Object(O.useState)(5),g=Object(f.a)(x,2),p=g[0],w=g[1],k=Object(O.useState)("transparent"),y=Object(f.a)(k,2),L=y[0],N=y[1],S=Object(O.useState)(Oe.Tools.Pencil),_=Object(f.a)(S,2),T=_[0],I=_[1],P=Object(O.useState)(!1),A=Object(f.a)(P,2),B=A[0],R=A[1],z=Object(O.useState)(!1),E=Object(f.a)(z,2),U=E[0],H=E[1];Object(O.useEffect)((function(){c||ve(r,l.current._fc)}),[]);return Object(C.jsxs)("div",{style:{position:"absolute",zIndex:1e3,left:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[Object(C.jsx)(Oe.SketchField,{name:"sketch",className:"canvas-area",ref:l,lineColor:u,lineWidth:p,fillColor:L||"transparent",width:j.width,height:j.height,forceValue:!0,onChange:function(){var e=B,t=l.current.canUndo();e!==t&&R(t)},tool:T,imageFormat:"jpeg"}),Object(C.jsx)(ge,{children:Object(C.jsxs)(v.a,{children:[Object(C.jsxs)(J.a,{xs:7,style:{paddingRight:"5px"},children:[Object(C.jsx)("div",{children:Object(C.jsxs)(le.a,{children:[Object(C.jsx)(m.a,{variant:T===Oe.Tools.Pencil?"secondary":"light",onClick:function(){return I(Oe.Tools.Pencil)},children:Object(C.jsx)("i",{className:"bi bi-pencil"})}),Object(C.jsx)(m.a,{variant:T===Oe.Tools.Line?"secondary":"light",onClick:function(){return I(Oe.Tools.Line)},children:Object(C.jsx)("i",{className:"bi bi-slash-lg"})}),Object(C.jsx)(m.a,{variant:T===Oe.Tools.Rectangle?"secondary":"light",onClick:function(){return I(Oe.Tools.Rectangle)},children:Object(C.jsx)("i",{className:"bi bi-square"})}),Object(C.jsx)(m.a,{variant:T===Oe.Tools.Circle?"secondary":"light",onClick:function(){return I(Oe.Tools.Circle)},children:Object(C.jsx)("i",{className:"bi bi-circle"})}),Object(C.jsx)(be.a,{trigger:"click",placement:"top",overlay:function(e){return Object(C.jsxs)(je.a,Object(F.a)(Object(F.a)({},e),{},{style:Object(F.a)(Object(F.a)({},e.style),{},{padding:"10px"}),children:["\u7dda",Object(C.jsx)("br",{}),Object(C.jsx)(de.a,{id:"lineColor",color:u,onChange:function(e){return h(e.hex)}}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),"\u4e2d\u8eab"," ",Object(C.jsx)(m.a,{style:{padding:"0px 10px"},variant:"secondary",onClick:function(){return N("transparent")},children:"\u4e2d\u8eab\u306a\u3057"}),Object(C.jsx)("br",{}),Object(C.jsx)(de.a,{id:"fillColor",color:L,onChange:function(e){N(e.hex),h("#000"),h(u)}})]}))},style:{position:"relative"},children:Object(C.jsxs)(m.a,{variant:"light",children:[Object(C.jsx)("i",{className:"bi bi-palette"})," ",Object(C.jsx)("span",{style:{border:"3px solid"+u,backgroundColor:L,width:"15px",height:"15px",display:"inline-block",verticalAlign:"middle"}})]})})]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{style:{display:"inline-block",width:"20px"}}),Object(C.jsx)("i",{className:"bi bi-border-width"})," ",Object(C.jsx)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:Object(C.jsx)(he.a,{min:1,max:30,value:p,onChange:function(e){return w(e.target.value)}})})]}),Object(C.jsxs)(le.a,{children:[Object(C.jsx)(fe,{variant:T===Oe.Tools.Select?"secondary":"light",onClick:function(){return I(Oe.Tools.Select)},children:Object(C.jsx)("i",{className:"bi bi-hand-index-thumb"})}),Object(C.jsx)("br",{}),Object(C.jsx)(fe,{disabled:T!==Oe.Tools.Select,variant:"light",onClick:function(){try{l.current.copy(),l.current.paste()}catch(e){alert("\u307e\u305a\u30b3\u30d4\u30da\u3057\u305f\u3044\u30d1\u30fc\u30c4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},children:Object(C.jsx)("i",{className:"bi bi-files"})}),Object(C.jsx)("br",{}),Object(C.jsx)(fe,{disabled:T!==Oe.Tools.Select,variant:"light",onClick:function(){try{l.current.removeSelected()}catch(e){alert("\u307e\u305a\u524a\u9664\u3057\u305f\u3044\u30d1\u30fc\u30c4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},children:Object(C.jsx)("i",{className:"bi bi-trash"})})]})]}),Object(C.jsxs)(J.a,{xs:5,children:[Object(C.jsxs)(le.a,{style:{marginBottom:"5px"},children:[Object(C.jsx)(pe,{disabled:!B,variant:"light",onClick:function(){l.current.undo(),R(l.current.canUndo()),H(l.current.canRedo())},children:Object(C.jsx)("i",{className:"bi bi-arrow-90deg-left"})}),Object(C.jsx)("br",{}),Object(C.jsx)(pe,{disabled:!U,variant:"light",onClick:function(){l.current.redo(),R(l.current.canUndo()),H(l.current.canRedo())},children:Object(C.jsx)("i",{className:"bi bi-arrow-90deg-right"})}),Object(C.jsx)("br",{}),Object(C.jsx)(pe,{variant:"light",onClick:function(){l.current.clear(),R(l.current.canUndo()),H(l.current.canRedo()),c||ve(r,l.current._fc)},children:Object(C.jsx)("i",{className:"bi bi-arrow-counterclockwise"})})]}),Object(C.jsxs)(le.a,{children:[Object(C.jsx)(pe,{variant:"light",onClick:function(){var e,r,s,o=Object(ce.b)(),j=Object(ne.b)();e=prompt("\u30bf\u30a4\u30c8\u30eb\uff1a"),r=prompt("\u3053\u306e\u4f5c\u54c1\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\uff1a"),s=Date.now(),""===e&&(e=s);var b=l.current.toDataURL();Object(ce.d)(Object(ce.c)(o,"paintings/"+e),b,"data_url").then((function(e){return Object(ce.a)(e.ref)})).then((function(o){Object(ne.d)(Object(ne.c)(j,"img_urls/"+i+"/"+s),o).then((function(o){Object(ne.d)(Object(ne.c)(j,"img_info/"+i+"/"+s),{title:e,detail:r,creator_id:"26577319",prev_img_ids:!c&&Object(F.a)(Object(te.a)({},a,!0),n)}).then((function(e){Object(ne.d)(Object(ne.c)(j,"users/26577319/img_ids/"+i+"/"+s),!0).then((function(e){alert("\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\uff01"),t(),window.location.href="/"+i+"?pid="+s})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))},children:Object(C.jsx)("i",{className:"bi bi-check-lg"})}),Object(C.jsx)("br",{}),Object(C.jsx)(pe,{disabled:!0,variant:"light",onClick:function(){},children:Object(C.jsx)("i",{className:"bi bi-hdd"})}),Object(C.jsx)("br",{}),Object(C.jsx)(pe,{variant:"light",onClick:t,children:Object(C.jsx)("i",{className:"bi bi-x-lg"})})]})]})]})})]})},ke=n(130),ye=n.n(ke);var Ce,Le=function(e){var t=e.loc,n=e.location,c=Object(ie.e)(ae),i=Object(ie.c)(re),a=Object(f.a)(i,2),r=a[0],s=a[1],o=Object(ie.e)(se),j=Object(O.useState)(0),l=Object(f.a)(j,2),b=l[0],d=l[1],u=Object(O.useState)(!1),h=Object(f.a)(u,2),x=h[0],g=h[1],p=Object(O.useState)([]),m=Object(f.a)(p,2),v=m[0],w=m[1],k=Object(O.useState)(!0),y=Object(f.a)(k,2),L=y[0],N=y[1],S=function(e){var t=e;Array.isArray(e)||(t=Object.keys(e).map((function(t){return Object(F.a)({id:t},e[t])})));var c=ye.a.parse(n.search).pid;w(t),s(c||t[0].id),d(c?t.map((function(e){return e.id})).indexOf(c):0),_(c||t[0].id)},_=function(e){var n=Object(ne.b)();Object(ne.a)(Object(ne.c)(n,"img_urls/"+t+"/"+e)).then((function(e){e.exists()&&o(e.val())})).catch((function(e){return console.error(e)}))},T=function(e){var t=v;1===e?t[b].likes=Object(F.a)(Object(F.a)({},t[b].likes),{},{26577319:!0}):delete t[b].likes[26577319],w(t)};return Object(O.useEffect)((function(){c(t);var e=ye.a.parse(n.search),i=Object(ne.b)();Object(ne.a)(Object(ne.c)(i,"img_info/"+t)).then((function(n){if(n.exists())if(e.mode&&"base"===e.mode){var c=Object.keys(n.val()[e.bid].prev_img_ids),a={};c.forEach((function(e){a[e]=n.val()[e]})),S(a)}else e.mode&&"user"===e.mode?Object(ne.a)(Object(ne.c)(i,"users/"+e.uid+"/img_ids/"+t)).then((function(e){var t={};Object.keys(e.val()).forEach((function(e){t[e]=n.val()[e]})),S(t)})):S(n.val())})).catch((function(e){return console.error(e)}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(Q,{switchPrev:function(){if(v.length>1){var e=0===b?v.length-1:b-1;d(e),s(v[e].id),_(v[e].id);var t=ye.a.parse(n.search);t.pid=v[e].id;var c=window.location.origin+window.location.pathname+"?"+ye.a.stringify(t);window.history.replaceState({path:c},"",c)}},switchNext:function(){if(v.length>1){var e=b===v.length-1?0:b+1;d(e),s(v[e].id),_(v[e].id);var t=ye.a.parse(n.search);t.pid=v[e].id;var c=window.location.origin+window.location.pathname+"?"+ye.a.stringify(t);window.history.replaceState({path:c},"",c)}}}),v.length>0&&Object(C.jsx)(ee,{imgInfo:v[b],openCanvas:function(e){var t=e.isNew;g(!0),N(t)},canvasVisibility:x,likeTrigger:function(){var e=Object(ne.b)();v[b].likes&&v[b].likes[26577319]?Object(ne.d)(Object(ne.c)(e,"img_info/"+t+"/"+r+"/likes/26577319"),null).then((function(e){return T(-1)})):Object(ne.d)(Object(ne.c)(e,"img_info/"+t+"/"+r+"/likes/26577319"),!0).then((function(e){return T(1)}))}}),x&&Object(C.jsx)(we,{isNew:L,basePrevIds:v[b].prev_img_ids||{},closeCanvas:function(){return g(!1)}})]})},Ne=n(109),Se=function(){var e=new Ne.a,t=Object(Ne.b)();return Object(Ne.d)(t,e)},_e=function(){return Object(ie.d)(oe)},Te=n(1117),Ie=n(1118),Pe=n(1115);k.a.div(Ce||(Ce=Object(p.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  text-align: center;\n  width: 100vw;\n  height: 50px;\n  background-color: rgba(248, 249, 250, 0.5);\n"])));var Ae=function(){var e=_e(),t=Object(ie.d)(ae);return Object(C.jsx)(Te.a,{style:{position:"absolute",left:0,top:0,width:"100vw",background:"rgba(255, 255, 255, 0.5)"},children:Object(C.jsxs)(V.a,{children:[Object(C.jsx)(Te.a.Brand,{children:t?y[t].name:"Campus as Canvas"}),Object(C.jsxs)(Te.a.Collapse,{children:[t?Object(C.jsxs)(Ie.a,{className:"me-auto",children:[Object(C.jsx)(m.a,{className:"btn btn-sm",variant:"outline-secondary",onClick:function(){return window.location.href="/"},children:"\u4ed6\u306e\u5834\u6240\u3078"}),Object(C.jsx)("span",{style:{width:"10px"}}),Object(C.jsx)(m.a,{className:"btn btn-sm",variant:"outline-secondary",onClick:function(){return window.history.back()},children:"\u623b\u308b"})]}):Object(C.jsx)(Ie.a,{className:"me-auto"}),Object(C.jsx)(Ie.a,{children:Object(C.jsx)(Pe.a,{title:(null===e||void 0===e?void 0:e.displayName)||"\u30ed\u30b0\u30a4\u30f3",children:e?Object(C.jsx)(Pe.a.Item,{onClick:function(){(function(){var e=Object(Ne.b)();return Object(Ne.e)(e)})().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}):Object(C.jsx)(Pe.a.Item,{onClick:function(){Se().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a4\u30f3"})})})]})]})})},Be=function(e){var t=e.children;return function(){var e=Object(O.useState)(!0),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(ie.e)(oe);return Object(O.useEffect)((function(){var e=Object(Ne.b)();return Object(Ne.c)(e,(function(e){i(e),c(!1)}))}),[i]),n}()?Object(C.jsx)("p",{children:"Loading..."}):t};var Re=function(){var e=_e();return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(Be,{children:Object(C.jsx)("div",{children:e?Object(C.jsxs)("div",{children:[Object(C.jsx)(Ae,{}),Object(C.jsxs)(g.b,{children:[Object(C.jsx)(U,{path:"/"}),Object(C.jsx)(Le,{path:"/:loc"})]})]}):Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){Se().catch((function(e){return console.error(e)}))},children:"\u30ed\u30b0\u30a4\u30f3"})})})})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1120)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))},Ee=n(526);var Ue=function(){var e=Object(ie.d)(ae),t=Object(ie.d)(se),n=Object(ie.d)(re),c=Object(O.useState)({}),i=Object(f.a)(c,2),a=i[0],r=i[1];return Object(O.useEffect)((function(){var t=Object(ne.b)();Object(ne.a)(Object(ne.c)(t,"img_urls/"+e)).then((function(e){e.exists()&&r(e.val())})).catch((function(e){return console.error(e)}))}),[e]),Object(C.jsxs)("a-scene",{id:"a-scene","vr-mode-ui":"enabled: false;",renderer:"logarithmicDepthBuffer: true;",arjs:"trackingMethod: best; sourceType: webcam;debugUIEnabled: false;",children:[Object(C.jsx)("a-assets",{children:a&&Object.keys(a).map((function(e){return Object(C.jsx)("img",{id:e,src:a[e],crossOrigin:"anonymous"},e)}))}),t&&Object(C.jsx)("a-image",{src:"#"+n,width:11,height:8,position:"0 1.5 -10",rotation:"0 0 0"})]})},Fe=(n(1104),Object(Ee.a)({apiKey:"AIzaSyAA4zXM0wRBrL1l65NHg_8mQcjg75ew9RQ",authDomain:"campus-coloring.firebaseapp.com",databaseURL:"https://campus-coloring.firebaseio.com",projectId:"campus-coloring",storageBucket:"campus-coloring.appspot.com",messagingSenderId:"45926036058",appId:"1:45926036058:web:a9271137ac86762843de63",measurementId:"G-WPPW3TX4QG"}),function(){var e=Object(ie.d)(ae);return Object(C.jsxs)("div",{style:{width:"100%",height:"100%"},children:[e&&Object(C.jsx)(Ue,{}),Object(C.jsx)(Re,{})]})});x.a.render(Object(C.jsx)(ie.a,{children:Object(C.jsx)(Fe,{})}),document.getElementById("root")),ze()},401:function(e,t){},533:function(e,t,n){},538:function(e,t,n){},703:function(e,t){},704:function(e,t){}},[[1105,1,2]]]);
//# sourceMappingURL=main.5d804903.chunk.js.map