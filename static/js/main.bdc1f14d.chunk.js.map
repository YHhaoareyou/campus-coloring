{"version":3,"sources":["locations.js","LocationsMenu.js","Home.js","ImageSwitch.js","atoms.js","auth.js","ActionMenu.js","Canvas.js","Paintings.js","notificationMap.js","Header.js","App.js","reportWebVitals.js","Scene.js","index.js","../node_modules/jsdom/lib/jsdom sync"],"names":["locations","garden","name","description","range","minLat","maxLat","minLong","maxLong","MapContainer","styled","div","BasePin","i","locationComponentPairs","loc","Pin","LocationsMenu","useState","currentCoor","setCurrentCoor","selectedLoc","setSelectedLoc","retrieveCoorFailed","setRetrieveCoorFailed","handleRetrievingCoor","navigator","geolocation","getCurrentPosition","position","coords","error","useEffect","retrieveCoorTimer","setInterval","clearInterval","isCoorInRange","LocCoorRange","latitude","longitude","style","paddingTop","className","color","map","onClick","textAlign","padding","fontSize","Modal","centered","show","onHide","Header","closeButton","Title","Body","src","width","alt","to","Button","variant","Home","LeftSwitchWrapper","RightSwitchWrapper","SwitchButton","ImageSwitch","switchPrev","switchNext","Fragment","currentLocState","atom","key","default","currentImgIdState","currentImgSrcState","currentImgAngleState","currentImgSizeState","userState","dangerouslyAllowMutability","login","provider","GoogleAuthProvider","auth","getAuth","signInWithRedirect","useUser","useRecoilValue","MenuWrapper","Container","ActionButton","IntroCard","Card","ActionMenu","imgInfo","openCanvas","likeTrigger","canvasVisibility","user","showModal","setShowModal","likes","Object","keys","length","setLikes","includes","uid","liked","setLiked","as","height","margin","title","Text","detail","ButtonGroup","size","window","location","href","origin","pathname","creator_id","borderLeft","prev_img_ids","id","marginBottom","borderRight","isNew","PainterMenuWrapper","DrawButton","getWindowDimensions","innerWidth","innerHeight","insertImageToCanvas","url","fabricCanvas","fabric","Image","fromURL","img","scaleToWidth","add","set","left","top","crossOrigin","Canvas","closeCanvas","basePrevIds","imgInfos","currentLoc","currentImgId","currentImgSrc","windowDimensions","setWindowDimensions","cv","useRef","lineColor","setLineColor","lineWidth","setLineWidth","Tools","Pencil","tool","setTool","canUndo","setCanUndo","canRedo","setCanRedo","angle","setAngle","current","_fc","addEventListener","e","beta","Math","round","zIndex","backgroundColor","borderBottom","ref","fillColor","forceValue","onChange","prev","now","imageFormat","Row","Col","xs","Line","OverlayTrigger","trigger","placement","overlay","props","Popover","hex","paddingRight","display","verticalAlign","min","max","value","changeEvent","target","Select","disabled","removeSelected","alert","copy","paste","undo","redo","confirm","clear","lastAngle","storage","getStorage","db","getDatabase","prompt","Date","dataUrl","toDataURL","uploadString","storageRef","then","snap","getDownloadURL","Promise","all","dbSet","dbRef","prev_user_ids","type","username","displayName","s","catch","err","Paintings","useRecoilState","setCurrentLoc","setCurrentImgId","setCurrentImgSrc","useSetRecoilState","currentImgIdIndex","setCurrentImgIdIndex","setCurrentImgAngle","setCurrentImgSize","setCanvasVisibility","setImgInfos","isNewPainting","setIsNewPainting","initImgInfos","infos","imgInfosArr","Array","isArray","pid","queryString","parse","search","imgIdIndex","indexOf","switchImgSrc","imgId","get","exists","val","console","updateLikes","action","qs","mode","baseIds","bid","idsObj","forEach","userPaintingIdsSnap","prevIndex","stringify","history","replaceState","path","nextIndex","bottom","notificationMap","setTitle","notifications","setNotifications","Navbar","background","Collapse","Nav","borderColor","back","Brand","NavDropdown","drop","Item","borderTop","signOut","logout","border","float","nid","navigateToPaintingFromNotification","whiteSpace","Auth","children","isLoading","setIsLoading","setUser","onAuthStateChanged","useAuth","App","event","mediaDevices","getUserMedia","video","audio","stream","log","marginTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Scene","currentImgAngle","currentImgSize","imgSrcs","setImgSrcs","setPosition","rotation","setRotation","cos","PI","sin","renderer","arjs","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Root","ReactDOM","render","document","getElementById","webpackEmptyContext","req","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/main.bdc1f14d.chunk.js","sourcesContent":["const locations = {\n  garden: {\n    name: '中庭',\n    description: 'テスト用',\n    range: {\n      minLat: 35.0,\n      maxLat: 36.0,\n      minLong: 139.0,\n      maxLong: 140.0\n    }\n  },\n  '51': {\n    name: '51号館',\n    description: '北門寄りの空中通路からの視点',\n    range: {\n      minLat: 35.7061,\n      maxLat: 35.7066,\n      minLong: 139.7065,\n      maxLong: 139.7070\n    }\n  },\n  '55': {\n    name: '55号館外',\n    description: '外の廊下から、中庭向き；雨天OK',\n    range: {\n      minLat: 35.7056,\n      maxLat: 35.7062,\n      minLong: 139.7078,\n      maxLong: 139.7083\n    }\n  },\n  '51_60_top': {\n    name: '51、60号館の間',\n    description: '59号館側の空中通路からの視点',\n    range: {\n      minLat: 35.7056,\n      maxLat: 35.7060,\n      minLong: 139.7061,\n      maxLong: 139.7065\n    }\n  },\n  '60_61': {\n    name: '60、61号館の間',\n    description: '59号館側の地面通路からの視点；雨天OK',\n    range: {\n      minLat: 35.7056,\n      maxLat: 35.7060,\n      minLong: 139.7057,\n      maxLong: 139.7061\n    }\n  }\n};\n\n  // '52': {\n  //   name: '52号館正面',\n  //   range: {\n  //     minLat: 35.7059,\n  //     maxLat: 35.7061,\n  //     minLong: 139.70695,\n  //     maxLong: 139.70725\n  //   }\n  // },\n  // '62': {\n  //   name: '62号館壁',\n  //   range: {\n  //     minLat: 35.70625,\n  //     maxLat: 35.70645,\n  //     minLong: 139.7054,\n  //     maxLong: 139.7057\n  //   }\n  // },\n\nexport default locations;","import { useState, useEffect } from 'react';\nimport { Link } from '@reach/router';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport styled from 'styled-components';\nimport locations from './locations';\n\nconst MapContainer = styled.div`\n  position: relative;\n  margin: 0px auto;\n  width: 400px;\n  height: 160px;\n  background-image: url('/img/map.jpeg');\n  background-size: contain;\n`;\n\nconst BasePin = styled.i`\n  position: absolute;\n  font-size: 24px;\n`;\n\nconst PinGarden = styled(BasePin)`\ntop: 50px;\nleft: 250px;\n`;\n\nconst Pin51 = styled(BasePin)`\n  top: -10px;\n  left: 170px;\n`;\n\n// const Pin52 = styled(BasePin)`\n//   top: 60px;\n//   left: 210px;\n// `;\n\nconst Pin51_60 = styled(BasePin)`\n  top: 70px;\n  left: 135px;\n`;\n\nconst Pin60_61 = styled(BasePin)`\n  top: 70px;\n  left: 105px;\n`;\n\n// const Pin58 = styled(BasePin)`\n//   top: 20px;\n//   left: 60px;\n// `;\n\n// const Pin62 = styled(BasePin)`\n//   top: 20px;\n//   left: 70px;\n// `;\n\nconst Pin55 = styled(BasePin)`\n  top: 50px;\n  left: 310px;\n`;\n\nconst locationComponentPairs = process.env.NODE_ENV === \"development\" ? [\n  {loc: '51', Pin: Pin51},\n  {loc: '51_60_top', Pin: Pin51_60},\n  {loc: '60_61', Pin: Pin60_61},\n  {loc: '55', Pin: Pin55},\n  {loc: 'garden', Pin: PinGarden}\n] : [\n  {loc: '51', Pin: Pin51},\n  {loc: '51_60_top', Pin: Pin51_60},\n  {loc: '60_61', Pin: Pin60_61},\n  {loc: '55', Pin: Pin55},\n]\n\nfunction LocationsMenu() {\n  const [currentCoor, setCurrentCoor] = useState(null);\n  const [selectedLoc, setSelectedLoc] = useState('');\n  const [retrieveCoorFailed, setRetrieveCoorFailed] = useState(false);\n\n  const handleRetrievingCoor = () => {\n    navigator.geolocation.getCurrentPosition(\n      function(position) {\n        setCurrentCoor(position.coords);\n        if (retrieveCoorFailed) setRetrieveCoorFailed(false);\n      },\n      function(error) {\n        setRetrieveCoorFailed(true);\n      }\n    );\n  }\n\n  useEffect(() => {\n    handleRetrievingCoor();\n    var retrieveCoorTimer = setInterval(handleRetrievingCoor, 5000);\n    return () => clearInterval(retrieveCoorTimer);\n  }, [])\n\n  const isCoorInRange = (LocCoorRange) =>\n    currentCoor && LocCoorRange\n      && (currentCoor.latitude >= LocCoorRange.minLat)\n      && (currentCoor.latitude <= LocCoorRange.maxLat)\n      && (currentCoor.longitude >= LocCoorRange.minLong)\n      && (currentCoor.longitude <= LocCoorRange.maxLong);\n\n  return (\n    <div style={{ paddingTop: '70px' }}>\n      <h3>場所を選択</h3>\n      {\n        !currentCoor && <p><i className=\"bi bi-arrow-clockwise\"></i> 位置情報取得中...</p>\n      }\n      {\n        retrieveCoorFailed && <p style={{ color: 'red' }}>位置情報取得失敗。位置情報の取得を許可し、遮蔽物のない空間に移動して数秒待ってください。</p>\n      }\n\n      <MapContainer>\n        {\n          locationComponentPairs.map(({loc, Pin}) => \n            <Pin key={loc} onClick={() => setSelectedLoc(loc)} className='bi bi-geo-alt-fill' style={{ color: isCoorInRange(locations[loc].range) ? 'orange' : 'black' }} />\n          )\n        }\n      </MapContainer>\n\n      <div style={{ textAlign: 'left', padding: '20px', fontSize: '14px' }}>\n        <strong>説明</strong>\n        <ul>\n          <li>ピンをタッチすると、そこの景色が映った画像が表示されます</li>\n          <li>ピンされた場所の近くに移動すると、ピンが黄色になり、タッチすると絵が見えます</li>\n          <li>5秒ごとに位置情報を取得します</li>\n        </ul>\n\n        <strong>場所一覧</strong>\n        <ul>\n          <li><b>51号館</b>：北門寄りの空中通路からの視点（雨天×）</li>\n          <li><b>55号館外</b>：外の廊下から、中庭向き</li>\n          <li><b>51、60号館の間</b>：59号館側の地面通路からの視点（雨天×）</li>\n          <li><b>60、61号館の間</b>：59号館側の空中通路からの視点</li>\n        </ul>\n      </div>\n\n\n      <Modal centered show={selectedLoc !== ''} onHide={() => setSelectedLoc('')}>\n        <Modal.Header closeButton>\n          <Modal.Title>{selectedLoc && locations[selectedLoc].name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ textAlign: 'center' }}>\n          <p>{selectedLoc && locations[selectedLoc].description}</p>\n          <img src={`/img/loc/${selectedLoc}.jpeg`} width='80%' alt=\"View of the location\" />\n          {\n            selectedLoc && (isCoorInRange(locations[selectedLoc].range) || selectedLoc === 'garden')\n              ? (\n                <div>\n                  <p>↑の景色にカメラを向けてください</p>\n                  <Link to={'/' + selectedLoc}>\n                    <Button variant=\"outline-primary\">\n                      絵を観る\n                    </Button>\n                  </Link>\n                </div>\n              )\n              : (\n                <div>\n                  <p>この場所に移動し、数秒待つと絵が見えるよ</p>\n                  <p>移動してもダメでしたら、画面を更新してください</p>\n                </div>\n              )\n          }\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n}\n\nexport default LocationsMenu;\n","import LocationsMenu from './LocationsMenu';\n\nfunction Home() {\n\n  return (\n    <div>\n      <LocationsMenu />\n    </div>\n  );\n}\n\nexport default Home;\n","import styled from 'styled-components';\nimport Button from 'react-bootstrap/Button';\nimport React from 'react';\n\nconst LeftSwitchWrapper = styled.div`\n  position: absolute;\n  top: 50vh;\n  left: 0;\n`\n\nconst RightSwitchWrapper = styled.div`\n  position: absolute;\n  top: 50vh;\n  right: 0;\n`\n\nconst SwitchButton = styled(Button)`\n  background: rgba(255, 255, 255, 0.3);\n  color: rgba(200, 200, 200);\n  border: none;\n  font-size: 36px;\n  padding: 0px;\n`;\n\nfunction ImageSwitch({ switchPrev, switchNext }) {\n  return(\n    <React.Fragment>\n      <LeftSwitchWrapper>\n        <SwitchButton variant=\"light\" onClick={switchPrev}><i className=\"bi bi-chevron-compact-left\"></i></SwitchButton>\n      </LeftSwitchWrapper>\n      <RightSwitchWrapper>\n        <SwitchButton variant=\"light\" onClick={switchNext}><i className=\"bi bi-chevron-compact-right\"></i></SwitchButton>\n      </RightSwitchWrapper>\n    </React.Fragment>\n  )\n}\n\nexport default ImageSwitch;","import { atom } from \"recoil\";\n\nexport const currentLocState = atom({\n  key: 'currentLocState',\n  default: '',\n});\n\nexport const currentImgIdState = atom({\n  key: 'currentImgIdState',\n  default: '',\n});\n\nexport const currentImgSrcState = atom({\n  key: 'currentImgSrcState',\n  default: '',\n});\n\nexport const currentImgAngleState = atom({\n  key: 'currentImgAngleState',\n  default: 0,\n});\n\nexport const currentImgSizeState = atom({\n  key: 'currentImgSizeState',\n  default: null,\n});\n\nexport const userState = atom ({\n  key: 'userState',\n  default: null,\n  dangerouslyAllowMutability: true,\n})","import { useEffect, useState } from \"react\";\nimport { useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { userState } from './atoms';\nimport {\n  getAuth,\n  signInWithRedirect,\n  signOut,\n  onAuthStateChanged,\n  GoogleAuthProvider,\n} from \"firebase/auth\";\n\nexport const login = () => {\n  const provider = new GoogleAuthProvider();\n  const auth = getAuth();\n  return signInWithRedirect(auth, provider);\n};\n\nexport const logout = () => {\n  const auth = getAuth();\n  return signOut(auth);\n};\n\nexport const useAuth = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const setUser = useSetRecoilState(userState);\n\n  useEffect(() => {\n    const auth = getAuth();\n    return onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setIsLoading(false);\n    });\n  }, [setUser]);\n\n  return isLoading;\n};\n\nexport const useUser = () => {\n  return useRecoilValue(userState);\n};","import { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Container, Row, ButtonGroup, Button, Card, Modal } from 'react-bootstrap';\nimport { useUser } from './auth';\n\nconst MenuWrapper = styled(Container)`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: transparent;\n  padding-bottom: 10px;\n`\n\nconst ActionButton = styled(Button)`\n  background: transparent;\n  border: 0.5px solid #fff;\n  border-bottom: none;\n  height: 30px;\n  color: #fff;\n`\n\nconst IntroCard = styled(Card)`\n  height: 100px;\n  overflow-y: scroll;\n  background-color: rgba(0, 0, 0, 0.4);\n  color: #fff;\n  border: 0.5px solid #fff;\n`;\n\nfunction ActionMenu({ imgInfo, openCanvas, canvasVisibility, likeTrigger }) {\n  const user = useUser();\n  const [showModal, setShowModal] = useState(false);\n  const [likes, setLikes] = useState(imgInfo.likes ? Object.keys(imgInfo.likes).length : 0)\n  const [liked, setLiked] = useState(imgInfo.likes && Object.keys(imgInfo.likes).includes(user.uid))\n\n  const handleLikeTrigger = () => {\n    likeTrigger();\n    setLikes(liked ? likes - 1 : likes + 1);\n    setLiked(!liked);\n  }\n\n  const navigateToBasePaintings = () => {\n    window.location.href = window.location.origin + window.location.pathname + '?mode=base&bid=' + imgInfo.id;\n  }\n\n  const navigateToUserPaintings = () => {\n    window.location.href = window.location.origin + window.location.pathname + '?mode=user&uid=' + imgInfo.creator_id;\n  }\n\n  useEffect(() => {\n    setLikes(imgInfo.likes ? Object.keys(imgInfo.likes).length : 0);\n    setLiked(imgInfo.likes && Object.keys(imgInfo.likes).includes(user.uid));\n  }, [imgInfo])\n\n  // return !canvasVisibility && (\n  return (\n    <MenuWrapper>\n      <IntroCard>\n        <Card.Body style={{ padding: 0 }}>\n          <Card.Title as='h6' style={{ height: '15px', margin: '5px' }}>{imgInfo.title}</Card.Title>\n          <Card.Text style={{ fontSize: '14px', height: '40px', margin: '5px' }}>\n            {imgInfo.detail}\n          </Card.Text>\n          <ButtonGroup style={{ width: '100%', margin: 0, height: '30px' }}>\n          <ActionButton variant='light' size='sm' onClick={navigateToUserPaintings} style={{ borderLeft: 'none' }}>\n            <i className=\"bi bi-person\"></i>\n            {' '}ユーザ\n          </ActionButton>\n          {\n            imgInfo?.prev_img_ids && (\n              <ActionButton variant='light' size='sm' onClick={navigateToBasePaintings} style={{ marginBottom: 0 }}>\n                <i className=\"bi bi-collection\"></i>\n                {' '}前作へ\n              </ActionButton>\n            )\n          }\n          <ActionButton variant='light' size='sm' onClick={handleLikeTrigger}>\n            <i className={liked ? \"bi bi-heart-fill\" : \"bi bi-heart\"}></i>\n            {' '}{likes}\n          </ActionButton>\n          <ActionButton variant='light' size='sm' onClick={() => setShowModal(true)} style={{ borderRight: 'none' }}>\n            <i className=\"bi bi-pencil\"></i>\n            {' '}描こう\n          </ActionButton>\n          </ButtonGroup>\n        </Card.Body>\n      </IntroCard>\n\n      <Modal centered show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>どんな絵を描きたい？</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ textAlign: 'center' }}>\n          <Button variant=\"outline-primary\" onClick={() => {openCanvas({ isNew: true }); setShowModal(false);}}>\n            新しく描こう\n          </Button>\n          <br /><br />\n          <Button variant=\"outline-primary\" onClick={() => {openCanvas({ isNew: false }); setShowModal(false);}}>\n            これをベースにして描こう\n          </Button>\n        </Modal.Body>\n      </Modal>\n\n    </MenuWrapper>\n  )\n}\n\nexport default ActionMenu;","import { useEffect, useState, useRef } from 'react';\nimport { getDatabase, ref as dbRef, set as dbSet } from \"firebase/database\";\nimport { getStorage, ref as storageRef, uploadString, getDownloadURL } from \"firebase/storage\";\nimport { useRecoilValue } from 'recoil';\nimport { currentLocState, currentImgIdState, currentImgSrcState } from './atoms.js';\nimport styled from 'styled-components';\nimport { Container, Row, Col, Button, ButtonGroup, OverlayTrigger, Popover } from 'react-bootstrap';\nimport { useUser } from './auth'\n\nimport { CompactPicker } from 'react-color';\nimport { SketchField, Tools } from 'react-sketch';\nimport RangeSlider from 'react-bootstrap-range-slider';\nimport { fabric } from \"fabric\";\n\nconst PainterMenuWrapper = styled(Container)`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 80px;\n  padding: 0px;\n  background-color: transparent;\n`;\n\nconst DrawButton = styled(Button)`\n  margin: 0px 3px;\n  padding: 0px;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  border: 0.5px solid #fff;\n  background-color: rgba(0, 0, 0, 0.4);\n  color: #fff;\n`;\n\nconst ActionButton = styled(Button)`\n  padding: 3px 0px;\n  border: 0.5px solid #fff;\n  background-color: rgba(0, 0, 0, 0.4);\n  color: #fff;\n`;\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nfunction insertImageToCanvas(url, fabricCanvas) {\n  fabric.Image.fromURL(\n    url,\n    function (img) {\n      img.scaleToWidth(getWindowDimensions().width);\n      fabricCanvas.add(img.set({\n        left: 0,\n        top: 0,\n      }));\n    },\n    {\n      crossOrigin: 'Anonymous'\n    }\n  )\n}\n\nconst Canvas = ({ closeCanvas, basePrevIds, isNew, imgInfos }) => {\n  const user = useUser();\n  const currentLoc = useRecoilValue(currentLocState);\n  const currentImgId = useRecoilValue(currentImgIdState);\n  const currentImgSrc = useRecoilValue(currentImgSrcState);\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  const cv = useRef(null);\n  const [ lineColor, setLineColor ] = useState('#000');\n  const [ lineWidth, setLineWidth ] = useState(5);\n  const [ tool, setTool ] = useState(Tools.Pencil);\n  const [ canUndo, setCanUndo ] = useState(false);\n  const [ canRedo, setCanRedo ] = useState(false);\n  const [ angle, setAngle ] = useState(0);\n\n  // load base painting on canvas\n  useEffect(() => {\n    setWindowDimensions(getWindowDimensions());\n    if (!isNew) {\n      insertImageToCanvas(currentImgSrc, cv.current._fc);\n    }\n  }, [isNew, currentImgSrc]);\n\n  useEffect(() => {\n    window.addEventListener(\"deviceorientation\", function(e){\n      const { beta } = e;\n      setAngle(Math.round(beta * 100) / 100)\n    });\n  }, [])\n\n  const undo = () => {\n    cv.current.undo();\n    setCanUndo(cv.current.canUndo());\n    setCanRedo(cv.current.canRedo());\n  };\n\n  const redo = () => {\n    cv.current.redo();\n    setCanUndo(cv.current.canUndo());\n    setCanRedo(cv.current.canRedo());\n  };\n\n  const clear = () => {\n    if(!window.confirm(\"最初からやり直しますか？\")) return;\n    cv.current.clear();\n    setCanUndo(cv.current.canUndo());\n    setCanRedo(cv.current.canRedo());\n    if (!isNew) {\n      insertImageToCanvas(currentImgSrc, cv.current._fc);\n    }\n  };\n\n  const duplicateSelected = () => {\n    try {\n      cv.current.copy();\n      cv.current.paste();\n    } catch (error) {\n      alert(\"まずコピペしたいパーツを選択してください\")\n    }\n  }\n\n  const removeSelected = () => {\n    try {\n      cv.current.removeSelected();\n    } catch (error) {\n      alert(\"まず削除したいパーツを選択してください\")\n    }\n  }\n\n  // Todo: save draft\n\n  const onSketchChange = () => {\n    let prev = canUndo;\n    let now = cv.current?.canUndo();\n    if (prev !== now) setCanUndo(now);\n  };\n\n  const saveCanvas = () => {\n    if(!window.confirm(\"あなたの作品を最も適切に表示するように、スマホの前後傾きを固定してからOKを押してください！\")) return;\n    const lastAngle = angle;\n    if (lastAngle) {\n      alert(\"傾きを取得しました。今からタイピングに適した姿勢に変えていただいても大丈夫です。\");\n    } else {\n      alert(\"エラーが発生しました。もう一度「できた」ボタンを押してみてください。\");\n      return;\n    }\n\n    var title, detail, id;\n    const storage = getStorage();\n    const db = getDatabase();\n\n    title = prompt(\"タイトル：\");\n    detail = prompt(\"この作品についての説明：\");\n    \n    id = Date.now();\n    if (title === \"\") title = id;\n\n    const dataUrl = cv.current.toDataURL();\n\n    uploadString(storageRef(storage, 'paintings/' + title), dataUrl, 'data_url')\n      .then(snap => getDownloadURL(snap.ref))\n      .then(url => {\n\n        Promise.all([\n          dbSet(dbRef(db, 'img_urls/' + currentLoc + '/' + id), url), // save url\n          dbSet(dbRef(db, 'img_info/' + currentLoc + '/' + id), {\n            title,\n            detail,\n            angle: lastAngle,\n            size: {\n              width: windowDimensions.width,\n              height: windowDimensions.height - 120,\n            },\n            creator_id: user.uid,\n            prev_img_ids: !isNew && { [currentImgId]: true, ...basePrevIds }\n          }), // save info\n          dbSet(dbRef(db, 'users/' + user.uid + '/img_ids/' + currentLoc + '/' + id), true) // add img id to user\n        ]).then(snap => {\n\n          // send notifications\n          const prev_user_ids = imgInfos.map(img => img.creator_id);\n          Promise.all(prev_user_ids.map(uid => dbSet(dbRef(db, 'users/' + uid + '/notifications/' + id), {\n            type: 0,\n            loc: currentLoc,\n            username: user.displayName\n          })))\n            .then(s => {\n              dbSet(dbRef(db, 'users/' + user.uid + '/name'), user.displayName)\n                .then(snap => {\n\n                  // upload success & reload\n                  alert(\"アップロードしました！\");\n                  closeCanvas();\n                  window.location.href = \"/\" + currentLoc + \"?pid=\" + id\n\n                }).catch(err => alert(err));\n            }).catch(err => alert(err));\n        }).catch(err => alert(err));\n      }).catch(err => alert(err));\n  }\n\n  const confirmCloseCanvas = () => {\n    window.confirm(\"作成中の絵をやめますか？\") && closeCanvas();\n  }\n\n  const colorSelector = (props) => (\n    <Popover {...props} style={{ ...props.style, padding: '10px' }}>\n      <CompactPicker\n        id='lineColor'\n        color={lineColor}\n        onChange={(color) => setLineColor(color.hex)}\n      />\n    </Popover>\n  )\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        zIndex: 1000,\n        left: 0,\n        backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n        borderBottom: \"5px solid #aaa\"\n      }}\n    >\n      <SketchField\n        name=\"sketch\"\n        className=\"canvas-area\"\n        ref={cv}\n        lineColor={lineColor}\n        lineWidth={lineWidth}\n        fillColor='transparent'\n        width={windowDimensions.width}\n        height={windowDimensions.height}\n        forceValue\n        onChange={onSketchChange}\n        tool={tool}\n        imageFormat={'jpeg'}\n      />\n\n      <PainterMenuWrapper>\n        <Row style={{ padding: '0px 15px', marginBottom: '10px' }}>\n          <Col xs={4} style={{ padding: 0 }}>\n            <DrawButton variant={tool === Tools.Pencil ? \"secondary\" : \"light\"} onClick={() => setTool(Tools.Pencil)}><i className=\"bi bi-pencil\" /></DrawButton>\n            <DrawButton variant={tool === Tools.Line ? \"secondary\" : \"light\"} onClick={() => setTool(Tools.Line)}><i className=\"bi bi-slash-lg\" /></DrawButton>\n            <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={colorSelector} style={{ position: 'relative' }}>\n              <DrawButton variant='light' style={{ backgroundColor: '#fff' }}>\n                <i className=\"bi bi-palette\" style={{ color: lineColor }} />{\" \"}\n              </DrawButton>\n            </OverlayTrigger>\n          </Col>\n          <Col xs={4} style={{ paddingRight: '5px', padding: 0 }}>\n            <div>\n              <i className=\"bi bi-border-width\" />{\" \"}\n              <div style={{ display: 'inline-block', verticalAlign: 'middle' }}>\n                <RangeSlider\n                  min={1}\n                  max={15}\n                  value={lineWidth}\n                  style={{ width: '80px' }}\n                  onChange={changeEvent => setLineWidth(changeEvent.target.value)}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col xs={4} style={{ padding: 0 }}>\n            <DrawButton variant={tool === Tools.Select ? \"secondary\" : \"light\"} onClick={() => setTool(Tools.Select)}><i className=\"bi bi-hand-index-thumb\" /></DrawButton>\n            <DrawButton disabled={tool !== Tools.Select} variant='light' onClick={removeSelected}><i className='bi bi-trash' /></DrawButton>\n            <DrawButton disabled={tool !== Tools.Select} variant='light' onClick={duplicateSelected}><i className='bi bi-files' /></DrawButton>\n          </Col>\n        </Row>\n\n        <ButtonGroup style={{ width: '100%' }}>\n          <ActionButton disabled={!canUndo} variant='light' onClick={undo}><i className='bi bi-arrow-90deg-left' /></ActionButton>\n          <ActionButton disabled={!canRedo} variant='light' onClick={redo}><i className='bi bi-arrow-90deg-right' /></ActionButton>\n          <ActionButton variant='light' onClick={clear}><i className='bi bi-arrow-counterclockwise' /></ActionButton>\n          <ActionButton variant='light' onClick={saveCanvas}><i className='bi bi-check-lg' /> できた</ActionButton>\n          <ActionButton variant='light' onClick={confirmCloseCanvas}><i className='bi bi-x-lg' /> やめる</ActionButton>\n        </ButtonGroup>\n      </PainterMenuWrapper>\n    </div>\n  )\n};\n\nexport default Canvas;","import { useEffect, useState } from 'react';\nimport ImageSwitch from './ImageSwitch';\nimport ActionMenu from './ActionMenu';\nimport Canvas from './Canvas';\nimport { useRecoilState, useSetRecoilState } from 'recoil';\nimport { currentImgIdState, currentImgSrcState, currentImgAngleState, currentImgSizeState, currentLocState } from './atoms.js';\nimport { getDatabase, ref, get, set } from \"firebase/database\";\nimport { useUser } from './auth'\nimport queryString from 'query-string';\nimport Button from 'react-bootstrap/Button';\n\nfunction Paintings({ loc, location }) {\n  const [currentLoc, setCurrentLoc] = useRecoilState(currentLocState);\n  const [currentImgId, setCurrentImgId] = useRecoilState(currentImgIdState);\n  const setCurrentImgSrc = useSetRecoilState(currentImgSrcState);\n  const [currentImgIdIndex, setCurrentImgIdIndex] = useState(0);\n  const setCurrentImgAngle = useSetRecoilState(currentImgAngleState);\n  const setCurrentImgSize = useSetRecoilState(currentImgSizeState);\n  const [canvasVisibility, setCanvasVisibility] = useState(false);\n  const [imgInfos, setImgInfos] = useState([]);\n  const [isNewPainting, setIsNewPainting] = useState(true);\n  const user = useUser();\n\n  const switchToPrevImg = () => {\n    if (imgInfos.length > 1) {\n      const prevIndex = currentImgIdIndex === 0 ? imgInfos.length - 1 : currentImgIdIndex - 1;\n      setCurrentImgIdIndex(prevIndex);\n      setCurrentImgId(imgInfos[prevIndex].id);\n      switchImgSrc(imgInfos[prevIndex].id);\n      setCurrentImgAngle(imgInfos[prevIndex].angle);\n      setCurrentImgSize(imgInfos[prevIndex].size);\n\n      var qs = queryString.parse(location.search);\n      qs.pid = imgInfos[prevIndex].id;\n      const url = window.location.origin + window.location.pathname + '?' + queryString.stringify(qs);\n      window.history.replaceState({ path: url }, '', url)\n    }\n  }\n\n  const switchToNextImg = () => {\n    if (imgInfos.length > 1) {\n      const nextIndex = currentImgIdIndex === imgInfos.length - 1 ? 0 : currentImgIdIndex + 1;\n      setCurrentImgIdIndex(nextIndex);\n      setCurrentImgId(imgInfos[nextIndex].id);\n      switchImgSrc(imgInfos[nextIndex].id);\n      setCurrentImgAngle(imgInfos[nextIndex].angle);\n      setCurrentImgSize(imgInfos[nextIndex].size);\n\n      var qs = queryString.parse(location.search);\n      qs.pid = imgInfos[nextIndex].id;\n      const url = window.location.origin + window.location.pathname + '?' + queryString.stringify(qs);\n      window.history.replaceState({ path: url }, '', url)\n    }\n  }\n\n  const initImgInfos = (infos) => {\n    var imgInfosArr = infos;\n    if (!Array.isArray(infos)) {\n      imgInfosArr = Object.keys(infos).map(id => ({\n        id: id,\n        ...infos[id]\n      }))\n    }\n\n    const pid = queryString.parse(location.search).pid;\n    setImgInfos(imgInfosArr);\n    setCurrentImgId(pid || imgInfosArr[0].id);\n    const imgIdIndex = pid ? imgInfosArr.map(img => img.id).indexOf(pid) : 0;\n    setCurrentImgIdIndex(imgIdIndex);\n    switchImgSrc(pid || imgInfosArr[0].id);\n    setCurrentImgAngle(imgInfosArr[imgIdIndex].angle);\n    setCurrentImgSize(imgInfosArr[imgIdIndex].size);\n  }\n\n  const switchImgSrc = (imgId) => {\n    const db = getDatabase();\n    get(ref(db, 'img_urls/' + loc + '/' + imgId)).then(snap => {\n      if(snap.exists()){\n        setCurrentImgSrc(snap.val())\n      }\n    }).catch(err => console.error(err));\n  }\n\n  const updateLikes = (action) => {\n    var infos = imgInfos;\n    if (action === 1) {\n      infos[currentImgIdIndex].likes = {\n        ...infos[currentImgIdIndex].likes,\n        [user.uid]: true\n      };\n    } else {\n      delete infos[currentImgIdIndex].likes[user.uid]\n    }\n    setImgInfos(infos);\n  }\n\n  const likeTrigger = () => {\n    const db = getDatabase();\n    if (imgInfos[currentImgIdIndex].likes && imgInfos[currentImgIdIndex].likes[user.uid]) {\n      set(ref(db, 'img_info/' + loc + '/' + currentImgId + '/likes/' + user.uid), null).then(snap => updateLikes(-1)).catch(err => alert(err));\n    } else {\n      set(ref(db, 'img_info/' + loc + '/' + currentImgId + '/likes/' + user.uid), true).then(snap => {\n        updateLikes(1);\n        set(ref(db, 'users/' + imgInfos[currentImgIdIndex].creator_id + '/notifications/' + currentImgId), {\n          type: 1,\n          loc: currentLoc,\n          username: imgInfos[currentImgIdIndex].likes && Object.keys(imgInfos[currentImgIdIndex].likes).length > 1 ? user.displayName + \"と他の\" + (Object.keys(imgInfos[currentImgIdIndex].likes).length - 1) + \"人\" : user.displayName\n        })\n      }).catch(err => alert(err));\n    }\n  }\n\n  useEffect(() => {\n    setCurrentLoc(loc);\n\n    const qs = queryString.parse(location.search)\n    const db = getDatabase();\n    get(ref(db, 'img_info/' + loc)).then(snap => {\n      if(snap.exists()){\n        if (qs.mode && qs.mode === 'base') {\n          const baseIds = Object.keys(snap.val()[qs.bid].prev_img_ids);\n          var idsObj = {};\n          baseIds.forEach(id => {\n            idsObj[id] = snap.val()[id]\n          });\n          initImgInfos(idsObj);\n        } else if (qs.mode && qs.mode === 'user') {\n          get(ref(db, 'users/' + qs.uid + '/img_ids/' + loc)).then(userPaintingIdsSnap => {\n            var idsObj = {};\n            if (userPaintingIdsSnap.val()) {\n              Object.keys(userPaintingIdsSnap.val()).forEach(id => {\n                idsObj[id] = snap.val()[id]\n              });\n              initImgInfos(idsObj);\n            }\n          })\n        } else {\n          initImgInfos(snap.val());\n        }\n      }\n    }).catch(err => console.error(err));\n  }, [])\n\n  return (\n    <div>\n      <ImageSwitch switchPrev={switchToPrevImg} switchNext={switchToNextImg} />\n      {\n        imgInfos.length > 0\n          ? canvasVisibility ? (\n              <Canvas\n                isNew={isNewPainting}\n                basePrevIds={imgInfos[currentImgIdIndex]?.prev_img_ids || {}}\n                closeCanvas={() => setCanvasVisibility(false)}\n                imgInfos={imgInfos}\n              />\n            ) : (\n              <ActionMenu\n                imgInfo={imgInfos[currentImgIdIndex]}\n                openCanvas={({ isNew }) => {setCanvasVisibility(true); setIsNewPainting(isNew);}}\n                canvasVisibility={canvasVisibility}\n                likeTrigger={likeTrigger}\n              />\n            )\n          : (\n            <Button\n              style={{ position: 'absolute', bottom: 0, left: 0, width: '100vw' }}\n              onClick={() => {setCanvasVisibility(true); setIsNewPainting(true);}}\n            >この場所で初の作品を描こう！</Button>\n          )\n      }\n    </div>\n  );\n}\n\nexport default Paintings;\n","const notificationMap = [\n  \"があなたの作品に基づいて描きました！\",\n  \"があなたの作品に「いいね」！\"\n];\n\nexport default notificationMap;","import { Navbar, Nav, NavDropdown, Container, Button, Row, Col } from 'react-bootstrap';\nimport { login, logout, useUser } from './auth';\nimport locations from './locations';\nimport { currentLocState } from './atoms';\nimport { useRecoilValue } from 'recoil';\nimport queryString from 'query-string';\nimport { useEffect, useState } from 'react';\nimport { getDatabase, ref, get, set } from \"firebase/database\";\nimport notificationMap from './notificationMap';\n\nfunction Header() {\n  const user = useUser();\n  const loc = useRecoilValue(currentLocState);\n  const [title, setTitle] = useState('Campus as Canvas');\n  const [notifications, setNotifications] = useState({});\n\n  const handleLogin = () => {\n    login().catch((error) => console.error(error));\n  };\n\n  const handleLogout = () => {\n    logout().catch((error) => console.error(error));\n  };\n\n  const navigateToMyPaintings = () => {\n    window.location.href = window.location.origin + window.location.pathname + '?mode=user&uid=' + user.uid;\n  }\n\n  const navigateToPaintingFromNotification = (location, nid) => {\n    set(ref(getDatabase(), 'users/' + user.uid + '/notifications/' + nid), null)\n      .then(snap => window.location.href = window.location.origin + '/' + location + '?pid=' + nid)\n      .catch(err => alert(err));\n  }\n\n  const clearNotifications = () => {\n    set(ref(getDatabase(), 'users/' + user.uid + '/notifications/'), null);\n    setNotifications({});\n  }\n\n  useEffect(() => {\n    const db = getDatabase();\n    const qs = queryString.parse(window.location.search);\n    if (qs.mode && qs.mode === 'base') {\n      get(ref(db, 'img_info/' + loc + '/' + qs.bid + '/title')).then(snap => {\n        setTitle('「' + snap.val() + '」のベース作品');\n      })\n    } else if (qs.mode && qs.mode === 'user') {\n      get(ref(db, 'users/' + qs.uid + '/name')).then(snap => {\n        setTitle(snap.val() + 'の作品');\n      })\n    } else {\n      if (loc) setTitle(locations[loc].name)\n    }\n\n    user && get(ref(db, 'users/' + user.uid + '/notifications')).then(snap => {\n      setNotifications(snap.val());\n    })\n  }, [loc])\n\n  return(\n    <Navbar style={{ position: 'absolute', left: 0, top: 0, width: '100vw', background: 'rgba(0, 0, 0, 0.3)' }}>\n      <Container>\n        {loc && <Navbar.Collapse>\n          <Nav className=\"me-auto\">\n            <Button style={{ color: '#fff', borderColor: '#fff' }} className=\"btn btn-sm\" variant=\"outline-secondary\" onClick={() => window.location.href = '/'}>\n              <i className=\"bi bi-house\"></i>\n            </Button>\n            <span style={{ width: '10px' }}></span>\n            <Button style={{ color: '#fff', borderColor: '#fff' }} className=\"btn btn-sm\" variant=\"outline-secondary\" onClick={() => window.history.back()}>\n              <i className=\"bi bi-chevron-compact-left\"></i>\n            </Button>\n          </Nav>\n        </Navbar.Collapse>}\n\n        <Navbar.Brand style={{ color: '#fff', margin: '0px 5px' }}>{title}</Navbar.Brand>\n\n        <Navbar.Collapse>\n          <Nav className=\"me-auto\"></Nav>\n          <Nav>\n            <NavDropdown title={<span style={{ color: '#fff' }}><i className=\"bi bi-person-circle\"></i></span>} drop={'start'}>\n              <p style={{ textAlign: 'center', marginBottom: '5px' }}>{user?.displayName}</p>\n              {\n                user\n                  ? <NavDropdown.Item style={{ borderTop: '1px solid #ccc' }} onClick={handleLogout}><i className='bi bi-box-arrow-right' /> ログアウト</NavDropdown.Item>\n                  : <NavDropdown.Item style={{ borderTop: '1px solid #ccc' }} onClick={handleLogin}><i className='bi bi-box-arrow-in-right' /> ログイン</NavDropdown.Item>\n              }\n              {loc && <NavDropdown.Item style={{ borderTop: '1px solid #ccc' }} onClick={navigateToMyPaintings}><i className='bi bi-images' /> 自分の絵を見る</NavDropdown.Item>}\n            </NavDropdown>\n            <NavDropdown\n              title={<span style={{ color: '#fff' }}><i className=\"bi bi-bell\"></i>{notifications && Object.keys(notifications).length}</span>}\n              drop={'start'}\n            >\n              <div style={{ padding: '0px 10px' }}>\n                <i className=\"bi bi-bell\" />\n                <Button variant=\"outline-secondary\" size=\"sm\" style={{ padding: '0px 5px', margin: '0px 0px 5px 10px', border: '1px solid #ccc', color: '#aaa', float: 'right' }} onClick={clearNotifications}>クリア</Button>\n              </div>\n              {\n                notifications && Object.keys(notifications).map(nid => (\n                  <NavDropdown.Item\n                    style={{ width: '300px', padding: 0, borderTop: '1px solid #ccc' }}\n                    key={nid}\n                    disabled={!loc || loc !== notifications[nid].loc}\n                    onClick={() => navigateToPaintingFromNotification(loc, nid)}\n                  >\n                    <Row style={{ width: '100%', margin: 0, padding: '5px 0px' }}>\n                      <Col xs={1}>\n                        <div style={{ display: 'flex' }}>\n                          {notifications[nid].type === 0 && <i style={{ color: 'orange' }} className='bi bi-brush' />}\n                          {notifications[nid].type === 1 && <i style={{ color: 'red', paddingTop: '12px' }} className='bi bi-heart' />}\n                        </div>\n                      </Col>\n                      <Col xs={11}>\n                        <small style={{ margin: 0, whiteSpace: 'normal' }}>\n                          {' '}{notifications[nid].username + notificationMap[notifications[nid].type]}\n                        </small>\n                        <br />\n                        <small style={{ color: '#aaa' }}>{loc && loc === notifications[nid].loc ? 'クリックして見にいく' : 'この場所のARモードに入ったら見れるよ'}</small>\n                      </Col>\n                    </Row>\n                  </NavDropdown.Item>\n                ))\n              }\n            </NavDropdown>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n}\n\nexport default Header;","import { Router } from '@reach/router';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css';\nimport Home from './Home';\nimport Paintings from \"./Paintings\";\nimport { useAuth, useUser, login } from './auth';\nimport Header from './Header';\nimport { Button } from 'react-bootstrap';\nimport { useEffect } from 'react';\n\nconst Auth = ({ children }) => {\n  const isLoading = useAuth();\n\n  return isLoading ? <p>Loading...</p> : children;\n};\n\nfunction App() {\n  const user = useUser();\n\n  const handleLogin = () => {\n    login().catch((error) => console.error(error));\n  };\n\n  useEffect(() => {\n    window.addEventListener('popstate', (event) => {\n      navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n        .then(stream => {\n          console.log(\"Camera on\")\n        })\n        .catch(err => {\n          console.error(err)\n        });\n    });\n  })\n\n  return (\n    <div className=\"App\">\n      <Auth>\n        <div>\n          {\n            user\n              ? (\n                <div>\n                  <Header />\n                  <Router>\n                    <Home path=\"/\" />\n                    <Paintings path=\"/:loc\" />\n                  </Router>\n                </div>\n              )\n              : (\n                <div>\n                  <Header />\n                  <Button style={{ marginTop: '45vh' }} onClick={handleLogin}>Googleアカウントでログイン</Button>\n                </div>\n              )\n          }\n        </div>\n      </Auth>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { currentLocState, currentImgIdState, currentImgSrcState, currentImgAngleState, currentImgSizeState } from './atoms.js';\nimport { getDatabase, ref, get } from \"firebase/database\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nfunction Scene() {\n  const currentLoc = useRecoilValue(currentLocState);\n  const currentImgSrc = useRecoilValue(currentImgSrcState);\n  const currentImgId = useRecoilValue(currentImgIdState);\n  const currentImgAngle = useRecoilValue(currentImgAngleState);\n  const currentImgSize = useRecoilValue(currentImgSizeState);\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n  const [imgSrcs, setImgSrcs] = useState({});\n  const [position, setPosition] = useState(\"0.3 1.5 -10\");\n  const [rotation, setRotation] = useState(\"0 0 0\");\n\n  useEffect(() => {\n    setWindowDimensions(getWindowDimensions());\n\n    const db = getDatabase();\n    get(ref(db, 'img_urls/' + currentLoc)).then(snap => {\n      if(snap.exists()){\n        setImgSrcs(snap.val())\n      }\n    }).catch(err => console.error(err));\n    setPosition(`-0.3 ${1.5 - Math.round(Math.cos(currentImgAngle*Math.PI/180) * 50 * 100) / 100} ${(-1)*Math.round(Math.sin(currentImgAngle*Math.PI/180) * 50 * 100) / 100}`);\n    setRotation(`${currentImgAngle-90} 0 0`);\n  }, [currentLoc]);\n\n  useEffect(() => {\n    setPosition(`-0.3 ${1.5 - Math.round(Math.cos(currentImgAngle*Math.PI/180) * 50 * 100) / 100} ${(-1)*Math.round(Math.sin(currentImgAngle*Math.PI/180) * 50 * 100) / 100}`);\n    setRotation(`${currentImgAngle-90} 0 0`);\n  }, [currentImgAngle])\n\n  return (\n    <a-scene\n      id=\"a-scene\"\n      vr-mode-ui=\"enabled: false;\"\n      renderer=\"logarithmicDepthBuffer: true;\"\n      arjs=\"trackingMethod: best; sourceType: webcam;debugUIEnabled: false;\"\n    >\n      <a-assets>\n        {imgSrcs && Object.keys(imgSrcs).map(imgId => <img key={imgId} id={imgId} src={imgSrcs[imgId]} crossOrigin=\"anonymous\" alt={\"Painting \" + imgId} />)}\n      </a-assets>\n      {currentImgSrc && <a-image\n        src={'#'+currentImgId}\n        width={currentImgSize ? windowDimensions.width / (8 * windowDimensions.width / 414) : 52}\n        height={currentImgSize ? currentImgSize.height * windowDimensions.width / currentImgSize.width / (12.5 * windowDimensions.height / 617) : 40}\n        position={position}\n        rotation={rotation}>\n      </a-image>}\n      \n      {/* <a-entity camera></a-entity> */}\n    </a-scene>\n  )\n}\n\nexport default Scene;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { initializeApp } from 'firebase/app';\nimport Scene from './Scene';\nimport { useRecoilValue } from 'recoil';\nimport { currentLocState } from './atoms.js';\nimport { RecoilRoot } from \"recoil\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\n\ninitializeApp({\n  apiKey: \"AIzaSyAA4zXM0wRBrL1l65NHg_8mQcjg75ew9RQ\",\n  authDomain: \"campus-coloring.firebaseapp.com\",\n  databaseURL: \"https://campus-coloring.firebaseio.com\",\n  projectId: \"campus-coloring\",\n  storageBucket: \"campus-coloring.appspot.com\",\n  messagingSenderId: \"45926036058\",\n  appId: \"1:45926036058:web:a9271137ac86762843de63\",\n  measurementId: \"G-WPPW3TX4QG\",\n});\n\nconst Root = () => {\n  const currentLoc = useRecoilValue(currentLocState);\n  return (\n    <div style={{ width: \"100%\", height: \"100%\" }}>\n      {currentLoc && <Scene />}\n      <App />\n    </div>\n  );\n}\n\nReactDOM.render(<RecoilRoot><Root /></RecoilRoot>, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 671;"],"sourceRoot":""}